% Emacs, this is -*-latex-*-

\input{../../definitions}
\title{\SM{} - Study Guide - Milestone 3 - Task 3 - Scalar Quantization in the $\text{RGB}$ Color Domain}

\maketitle

\tableofcontents

\section{Objective}
In this task we are going to develop a rudimentery \href{https://en.wikipedia.org/wiki/Lossy_compression}{lossy
($\text{RGB}$) image compressor} based on
SQ~\cite{vruiz__scalar_quantization} and PNG~\cite{vruiz__PNG}. 

\section{Some info about the $\text{RGB}$ color domain}
%{{{

$\text{RGB}$ (Red, Green, and Blue) is an additive color system, which
means that all colors ``start'' with black and are created by adding
some intensity of the primary colors red, green and
blue~\cite{burger2016digital}. In $\text{RGB}$ images, the color of a
pixel depends on the
\href{https://en.wikipedia.org/wiki/Visible_spectrum}{frequency of the
  light that the pixel represents}. Such information can be
represented in a number of different encoding systems known as
\href{https://en.wikipedia.org/wiki/Color_space}{color spaces}. Among
all those systems, the $\text{RGB}$ color space is the most used
because $\text{RGB}$ images can be obtained directly from the light
signal using color filters.\footnote{Specifically, a red (R) filter, a
green (G) filter and a blue (B) filter.}

%}}}

\section{Scalar quantization in the $\text{RGB}$ domain}
%{{{ 

Supposing that we are using a dead-zone quantizer, a $\text{RGB}$
image can be quantized, channel by channel, using quantization steps
$\Delta_{\text{R}}$, $\Delta_{\text{G}}$, and $\Delta_{\text{B}}$. A
reasonable question that arises here is: given a target bit-rate $R$
for the compressed frame, how the quantization steps should be chosen
to minimize the distortion?

At this point we can consider two different optimization
perspectives. In the first one, we consider strictly visual
considerations, and obviously, any alternative different from
\begin{equation}
  \Delta_{\text{R}} = \Delta_{\text{G}} = \Delta_{\text{B}}
  \label{eq:simple_Q}
\end{equation}
will produce some alteration in the color (also called the
``chroma'') of the reconstructed image.

In the second perspective, only a pure
\href{https://en.wikipedia.org/wiki/Rate-distortion_theory}{Rate/Distortion
  (RD) performance} is considered. From a RD point of view, the best
combination of quantization steps is those that optimizes (generally
by minimizing, that is, making it closer to the origin of coordinates)
the RD curve.\footnote{Notice that a RD curve represents the trade-off
between the distortion (typically the
\href{https://en.wikipedia.org/wiki/Root-mean-square_deviation}{Mean Square Error (MSE)}) and the bit-rate (therefore, MSE versus
bit/pixel).}

The $\text{RGB}$ color domain is additive, which implies that the
quantization error is the same in the three color
components,\footnote{At least, if the quantization error is
insignificant compared to the amplitude of the components.}
$\text{R}$, $\text{G}$, and $\text{B}$. Therefore, in order to select
the same RD slope~\cite{vruiz__information_theory} in the three
components, the quantization pattern should be
\begin{equation}
  \Delta_\text{R} = \Delta_\text{G} = \Delta_\text{B}.
  \label{eq:same_delta}
\end{equation}

Unfortunately, Eq.~\eqref{eq:same_delta} not always will provide
optimality in a RD sense. The reason is that the quantization step
size does not defines accurately the neither the rate (R) nor the
distortion (D). This means that, if we want to be sure that the
quantization pattern is optimal, the RD slopes of each channel must be
taken intro consideration (see this
\href{https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/RGB_quantization/RD_performance.ipynb}{notebook}).

Considering that the contribution to the quality of each channel is
additive, that is
\begin{equation}
  D = D_{\text{R}} + D_{\text{G}} + D_{\text{B}},
  \label{eq:additive}
\end{equation}
where $D$ denotes distortion, then the optimal quantization steps must
satisfy
that~\cite{vruiz__information_theory,vetterli1995wavelets,sayood2017introduction}
\begin{equation}
  \lambda_{\text{R}} = \lambda_{\text{G}} = \lambda_{\text{B}}.
  \label{eq:optimal_quantization}
\end{equation}
 This can be seen in this
 \href{https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/milestones/RGB_SQ/RD_performance.ipynb}{notebook}.

%}}}

\section{What do I have to do?}

\begin{enumerate}
\item Please, run the
  \href{https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/RGB_quantization/RD_performance.ipynb}{notebook}
  to learn some insights about the compression of $\text{RGB}$ images.
\item Try to compress different images.
\end{enumerate}

\section{Timming}

Please, finish this milestone before the next class session.

\section{Deliverables}

None.

\section{Resources}

\renewcommand{\addcontentsline}[3]{}% Remove functionality of \addcontentsline
\bibliography{information_theory,image-formats}
