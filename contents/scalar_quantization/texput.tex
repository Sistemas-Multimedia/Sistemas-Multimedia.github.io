% Emacs, this is -*-latex-*-

\input{../../definitions}
\title{\SM{} - Study Guide - Milestone 3 - Task 1: Scalar Quantization of Gray-scale Images}

\maketitle
\tableofcontents

\section{Description}
%{{{

Gray-Scale (GS) images have only one (usually
\href{https://en.wikipedia.org/wiki/Luminance}{luminance}, expressed
proportionally by the gray colors) channel\footnote{They are usually
represented in color displays using gray tones (colors where the same
amount of red, green and blue components have been mixed). However, it
is quite difficult to find a color display with more than 256 gray
colors.}. In most of the cases, the number of bits per pixel (the so
called ``depth'' of the image) is $8$, but it is not rare to use up to
$16$ bits/pixel in specific contexts such as in
\href{https://en.wikipedia.org/wiki/Medical_imaging}{Medical Imaging}
and \href{https://en.wikipedia.org/wiki/Remote_sensing}{Remote
  Sensing}~\cite{burger2016digital}.

In this milestone we are going to see how to
\href{https://vicente-gonzalez-ruiz.github.io/quantization/}{quantize}
a GS image, and then compressing the image with PNG, to create a
\href{https://en.wikipedia.org/wiki/Lossy_compression}{lossy image
  compressor}.

\subsection{Scalar and vector quantization of GS images}
%{{{

The compression ratio of our lossy image compressor can be controled
by means of quantization. At this point we have basically two
alternatives:
\begin{enumerate}
\item \textbf{Scalar Quantization (SQ)}: where each pixel is quantized
  without considering the rest of pixels in the
  image~\cite{vruiz__scalar_quantization}.
\item \textbf{Vector Quantization (VQ)}: when the pixels are quantized
  block-by-block (2D vectors)~\cite{vruiz__vector_quantization}.
\end{enumerate}
Notice that VQ exploits the spatial correlation, but SQ doesn't. For
this reason, by default, we will use PNG after SQ, because PNG can
remove the spatial redundancy. In the case of VQ, only the statistical
redundancy remains, that can be exploited by any entropy codec (and
obviously, any image codec).

%}}}

\subsection{Bit-rate control in SQ + PNG}
%{{{

The bit-rate (the number of bits/pixel) obtained after using
\emph{quantization+PNG} depends on:
\begin{enumerate}
\item The number of output indexes generated by the quantizer.
\item The capability of PNG for removing spatial/statistical
  redudancy, aspect that we cannot control with accuracy (only some
  levels of compression are usually available).
\item In the case of SQ, the quantization step size $\Delta$
  used. Notice that, usually, the higher the $\Delta$, the higher the
  compression ratio, the lower the number of bits/pixel, and the lower
  the quality of the reconstructed image.
\end{enumerate}
Variying $\Delta$ we should be able to generate a Rate/Distortion (RD)
curve, where the $x$-axis represents the bit-rate (in bit/pixel, for
example) and the $y$-axis represents the distortion (the
\href{https://en.wikipedia.org/wiki/Root-mean-square_deviation}{Root
  Mean Square Error (RMSE)}, for example).

Normaly, RD curves~\cite{vruiz__information_theory} are convex. This
can be seen in the notebooks
\href{https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/scalar_quantization/midtread.ipynb}{Midtread Quantization},
\href{https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/scalar_quantization/midrise.ipynb}{Midrise Quantization},
\href{https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/scalar_quantization/deadzone.ipynb}{Deadzone Quantization},
\href{https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/scalar_quantization/companded.ipynb}{Companded Quantization},
and
\href{https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/scalar_quantization/LloydMax.ipynb}{LloydMax Quantization}.

As it can be also seen in the notebook
\href{https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/scalar_quantization/compare_quantizers.ipynb}{quantizers\_comparison},
that the performance of the quantizers is not the same: usually
midrise and midtread, performs better than deadzone at intermediate
bit-rates, but deadzone is the best a low bit-rates. Deadzone has also
another advantage over midread and midtread: when $\Delta$ is a power
of 2 (which corresponds to a bit-plane encoding), the obtained RD
point is near optimal in the RD space. Finally, the Lloyd-Max
Quantizer reaches the highest performance because it is adaptive.

%}}}

%}}}

\section{What do I have to do?}
%{{{

\begin{enumerate}
\item Create a notebook named ``bit-rate\_control.ipynb'' that, given
  a maximum bit-rate, finds the quantization step $\Delta^*$ that
  minimizes the distortion. Use the quantizer that your prefer.
\end{enumerate}

%}}}

\section{Timming}

Please, finish this milestone before the next class session.

\section{Deliverables}

None.

\section{Resources}

\renewcommand{\addcontentsline}[3]{} % Remove functionality of \addcontentsline
\bibliography{data-compression,signal-processing,DWT,image-processing,quantization,information_theory}
