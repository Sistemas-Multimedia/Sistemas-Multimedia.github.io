<?xml version="1.0" encoding="iso-8859-1" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" 
"http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd" > 
<html xmlns="http://www.w3.org/1999/xhtml"  
> 
<head><title>Sistemas Multimedia - Scalar Quantization of Gray-scale Images</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
<meta name="generator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<meta name="originator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<!-- xhtml,mathml,html --> 
<meta name="src" content="index.tex" /> 
<link rel="stylesheet" type="text/css" href="index.css" /> 
</head><body 
>
   <div class="maketitle">
                                                                  

                                                                  
                                                                  

                                                                  

<h2 class="titleHead"><a 
href="https://sistemas-multimedia.github.io/" >Sistemas Multimedia</a> - Scalar Quantization of
Gray-scale Images</h2>
 <div class="author" ><a 
href="https://cms.ual.es/UAL/personas/persona.htm?id=515256515553484875" ><span 
class="ecrm-1200">Vicente Gonz</span><span 
class="ecrm-1200">&#x00E1;</span><span 
class="ecrm-1200">lez Ruiz</span></a> <span 
class="ecrm-1200">- </span><a 
href="https://cms.ual.es/UAL/universidad/departamentos/informatica/index.htm" ><span 
class="ecrm-1200">Depto Inform</span><span 
class="ecrm-1200">&#x00E1;</span><span 
class="ecrm-1200">tica</span></a> <span 
class="ecrm-1200">- </span><a 
href="https://www.ual.es" ><span 
class="ecrm-1200">UAL</span></a></div><br />
<div class="date" ><span 
class="ecrm-1200">December 4, 2022</span></div>
   </div>
   <h3 class="likesectionHead"><a 
 id="x1-1000"></a>Contents</h3>
   <div class="tableofcontents">
   &#x00A0;<span class="sectionToc" >1 <a 
href="#x1-20001" id="QQ2-1-2">Objective</a></span>
<br />   &#x00A0;<span class="sectionToc" >2 <a 
href="#x1-30002" id="QQ2-1-3">Uniform SQ of gray-scale images</a></span>
<br />   &#x00A0;<span class="sectionToc" >3 <a 
href="#x1-40003" id="QQ2-1-4">Non-Uniform SQ of gray-scale pixel intensities</a></span>
<br />   &#x00A0;<span class="sectionToc" >4 <a 
href="#x1-50004" id="QQ2-1-5">RD optimized quantizer design</a></span>
<br />   &#x00A0;<span class="sectionToc" >5 <a 
href="#x1-60005" id="QQ2-1-6">What do I have to do?</a></span>
<br />   &#x00A0;<span class="sectionToc" >6 <a 
href="#x1-70006" id="QQ2-1-7">Timming</a></span>
<br />   &#x00A0;<span class="sectionToc" >7 <a 
href="#x1-80007" id="QQ2-1-8">Deliverables</a></span>
<br />   &#x00A0;<span class="sectionToc" >8 <a 
href="#x1-90008" id="QQ2-1-9">Resources</a></span>
   </div>
<!--l. 9--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-20001"></a>Objective</h3>
<!--l. 10--><p class="noindent" >This task shows how to implement a simple <a 
href="https://en.wikipedia.org/wiki/Lossy_compression" >lossy</a> <a 
href="https://en.wikipedia.org/wiki/Grayscale" >gray&#x0028;-scale&#x0029; image</a> <a 
href="https://en.wikipedia.org/wiki/Image_compression" >compressor</a>&#x00A0;<span class="cite">&#x005B;<a 
href="#Xvruiz__image_IO">1</a>&#x005D;</span>
based on SQ &#x0028;Scalar Quantization&#x0029;&#x00A0;<span class="cite">&#x005B;<a 
href="#Xvruiz__scalar_quantization">4</a>,&#x00A0;<a 
href="#Xsayood2017introduction">5</a>,&#x00A0;<a 
href="#Xvetterli2014foundations">6</a>&#x005D;</span> and PNG&#x00A0;<span class="cite">&#x005B;<a 
href="#Xvruiz__PNG">3</a>&#x005D;</span>. The proposed
compressor basically removes the number of di&#xFB00;erent gray <a 
href="https://en.wikipedia.org/w/index.php?title=Tone_(color)&redirect=no" >tones</a> in an
image.<span class="footnote-mark"><a 
href="index2.html#fn1x0"><sup class="textsuperscript">1</sup></a></span><a 
 id="x1-2001f1"></a> 
Therefore, the main objective of this task is to analyze the impact in the encoding
                                                                  

                                                                  
performance &#x0028;in terms of the RD &#x0028;Rate/Distortion&#x0029; tradeo&#xFB00;&#x00A0;<span class="cite">&#x005B;<a 
href="#Xvruiz__information_theory">2</a>&#x005D;</span>&#x0029; when the number of
gray levels in an image is controlled through quantization.
</p>
   <h3 class="sectionHead"><span class="titlemark">2   </span> <a 
 id="x1-30002"></a>Uniform SQ of gray-scale images</h3>
<!--l. 32--><p class="noindent" >&#x0028;Digital&#x0029; Uniform Scalar Quantization &#x0028;USQ&#x0029; transform each input signal value
<!--l. 33--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mstyle mathvariant="bold"><mi 
>s</mi></mstyle></mrow><mrow 
><mi 
>i</mi></mrow></msub 
></math> &#x0028;a pixel&#x0029; in a
quantization index <!--l. 33--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mstyle mathvariant="bold"><mi 
>k</mi></mstyle></mrow><mrow 
><mi 
>i</mi></mrow></msub 
></math>.
This is done without considering the rest of samples, and in general, without any other information
about <!--l. 36--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="bold"><mi 
>s</mi></mstyle></math>&#x00A0;<span class="cite">&#x005B;<a 
href="#Xvruiz__scalar_quantization">4</a>&#x005D;</span>.
USQ is the simplest quantization scheme.
</p><!--l. 39--><p class="indent" >   There are several USQ mapping algorithms to convert
<!--l. 39--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="bold"><mi 
>s</mi></mstyle></math> into
<!--l. 40--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle mathvariant="bold"><mi 
>k</mi></mstyle></math>, but
all of them can be classi&#xFB01;ed into <span 
class="ecti-1000">midrise </span>and <span 
class="ecti-1000">mitread </span>schemes. In a midrise
quantizer, the reconstructed signal never is 0, even if the original signal is
0<span class="footnote-mark"><a 
href="index3.html#fn2x0"><sup class="textsuperscript">2</sup></a></span><a 
 id="x1-3001f2"></a>  &#x0028;see
<a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/gray_SQ/gray_SQ_midrise.ipynb" >gray_SQ_midrise.ipynb</a>&#x0029;. On the contrary, midtread quantizers can generate the
output 0 &#x0028;see <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/gray_SQ/gray_SQ_midtread.ipynb" >gray_SQ_midtread.ipynb</a>&#x0029;, which in general is advantagous for lossy
compression, specially if we use a midtread quantizers with deadzone &#x0028;see
<a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/gray_SQ/gray_SQ_deadzone.ipynb" >gray_SQ_deadzone.ipynb</a>&#x0029;, centered where the <a 
href="https://en.wikipedia.org/wiki/Signal-to-noise_ratio" >SNR &#x0028;Signal to Noise Ratio&#x0029;</a> is
smaller.
</p>
   <h3 class="sectionHead"><span class="titlemark">3   </span> <a 
 id="x1-40003"></a>Non-Uniform SQ of gray-scale pixel intensities</h3>
<!--l. 56--><p class="noindent" >Uniform quantizers are e&#xFB03;cient &#x0028;minimize the distortion&#x0029; only if the input
samples &#x0028;gray-scale values of the pixels&#x0029; are uniformly distributed among
the quantization <a 
href="https://en.wikipedia.org/wiki/Data_binning" >bins</a>&#x00A0;<span class="cite">&#x005B;<a 
href="#Xvruiz__scalar_quantization">4</a>&#x005D;</span>. However, when the probability of the samples
is not &#x201C;&#xFB02;at&#x201D; &#x0028;or the number of bins is small compared to the number
of possible input values&#x0029;, we can use better quantizers. For example, if we
know that most of the samples are small integer values &#x0028;positive and
negative<span class="footnote-mark"><a 
href="index4.html#fn3x0"><sup class="textsuperscript">3</sup></a></span><a 
 id="x1-4001f3"></a> &#x0029;,
a quantizer such as <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/gray_SQ/gray_SQ_companded.ipynb" >gray_SQ_companded.ipynb</a> can be more suitable than an uniform
one<span class="footnote-mark"><a 
href="index5.html#fn4x0"><sup class="textsuperscript">4</sup></a></span><a 
 id="x1-4002f4"></a> .
                                                                  

                                                                  
</p><!--l. 69--><p class="indent" >   In general, when the samples follow a probability distribution that only can be modeled using
the <a 
href="https://en.wikipedia.org/wiki/Histogram" >histogram</a><span class="footnote-mark"><a 
href="index6.html#fn5x0"><sup class="textsuperscript">5</sup></a></span><a 
 id="x1-4003f5"></a> 
of the image, then an Lloyd-Max-based quantizer &#x0028;see <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/gray_SQ/gray_SQ_LloydMax.ipynb" >gray_SQ_LloydMax.ipynb</a>&#x0029;
should be used.
</p>
   <h3 class="sectionHead"><span class="titlemark">4   </span> <a 
 id="x1-50004"></a>RD optimized quantizer design</h3>
<!--l. 112--><p class="noindent" >So far, we have designed the image compressor in two steps: &#x0028;1&#x0029; quantize the pixels ...
trying to minimize the distortion, and &#x0028;2&#x0029; entropy encode &#x0028;compress&#x0029; the
quantization indexes. However, if we assume that the entropy encoding performance
is proportional to some rate-prediction metric, such as the entropy, it is possible to
design the quantizer minizing the two RD variables &#x0028;rate and distortion&#x0029; at the same
time&#x00A0;<span class="cite">&#x005B;<a 
href="#Xsayood2017introduction">5</a>&#x005D;</span>.
</p><!--l. 120--><p class="indent" >   &#x2014;&#x2014;&#x2014;&#x2013;
</p><!--l. 122--><p class="indent" >   However, there is not &#x0028;yet&#x0029; any known reason to think that this approach will be
generate better RD curves that the one in which only the distortion is both
parameters &#x0028;R and D&#x0029; are minimized independently. Besides, the joint optimization
of R and D makes the quantizer dependent of the entropy codec, that reduces the
&#xFB02;exility of the encoding system.
</p><!--l. 129--><p class="indent" >   &#x2014;&#x2014;&#x2014;&#x2013;
</p><!--l. 131--><p class="indent" >   In this <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/gray_SQ/compare_quantizers.ipynb" >compare_quantizers.ipynb</a> notebook the RD curves of all these quantizers
have been plotted.
</p><!--l. 136--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">5   </span> <a 
 id="x1-60005"></a>What do I have to do?</h3>
<!--l. 137--><p class="noindent" >
     </p><ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-6002x1">
     <!--l. 138--><p class="noindent" ><span 
class="ecbx-1000">Implement a rate control: </span>Extend &#x0028;modify&#x0029; one of the previous notebooks
     to incorporate a rate control procedure. Such algorithm should be able to
     &#xFB01;nd, given a maximum bit-rate <!--l. 141--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msup><mrow 
><mi 
>R</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >max</mtext></mstyle></mrow></msup 
></math>,
     the QSS <!--l. 141--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msup><mrow 
><mi mathvariant="normal">&#x0394;</mi></mrow><mrow 
><mo 
class="MathClass-bin">&#x2217;</mo></mrow></msup 
></math>
     that minimizes the distortion &#x0028;in terms of the <a 
href="https://en.wikipedia.org/wiki/Root-mean-square_deviation" >RMSE &#x0028;Root Mean Square
     Error&#x0029;</a>, see the notebooks&#x0029;.</p></li></ol>
                                                                  

                                                                  
<!--l. 147--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">6   </span> <a 
 id="x1-70006"></a>Timming</h3>
<!--l. 148--><p class="noindent" >Please, &#xFB01;nish this milestone before the day of the &#x201C;exam&#x201D;.
</p><!--l. 150--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">7   </span> <a 
 id="x1-80007"></a>Deliverables</h3>
<!--l. 151--><p class="noindent" >A notebook.
</p><!--l. 153--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">8   </span> <a 
 id="x1-90008"></a>Resources</h3>
   <div class="thebibliography">
   <p class="bibitem" ><span class="biblabel">
 &#x005B;1&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xvruiz__image_IO"></a>V.&#x00A0;Gonz&#x00E1;lez-Ruiz. <a 
href="https://vicente-gonzalez-ruiz.github.io/image_IO/" >Image IO</a>.
   </p>
   <p class="bibitem" ><span class="biblabel">
 &#x005B;2&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xvruiz__information_theory"></a>V.&#x00A0;Gonz&#x00E1;lez-Ruiz. <a 
href="https://vicente-gonzalez-ruiz.github.io/information_theory/" >Information Theory</a>.
   </p>
   <p class="bibitem" ><span class="biblabel">
 &#x005B;3&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xvruiz__PNG"></a>V.&#x00A0;Gonz&#x00E1;lez-Ruiz. <a 
href="https://vicente-gonzalez-ruiz.github.io/PNG/" >PNG &#x0028;Portable Network Graphics&#x0029;</a>.
   </p>
   <p class="bibitem" ><span class="biblabel">
 &#x005B;4&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xvruiz__scalar_quantization"></a>V.&#x00A0;Gonz&#x00E1;lez-Ruiz. <a 
href="https://vicente-gonzalez-ruiz.github.io/scalar_quantization/" >Scalar Quantization</a>.
   </p>
   <p class="bibitem" ><span class="biblabel">
 &#x005B;5&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xsayood2017introduction"></a>K.&#x00A0;Sayood.    <a 
href="http://rahilshaikh.weebly.com/uploads/1/1/6/3/11635894/data_compression.pdf" ><span 
class="ecti-1000">Introduction  to  Data  Compression</span></a>  <a 
href="https://people.cs.nctu.edu.tw/~cmliu/Courses/Compression/" ><span 
class="ecti-1000">&#x0028;Slides&#x0029;</span></a>.    Morgan
   Kaufmann, 2017.
   </p>
   <p class="bibitem" ><span class="biblabel">
 &#x005B;6&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xvetterli2014foundations"></a>M.&#x00A0;Vetterli, J.&#x00A0;Kova&#x010D;evi&#x0107;, and V.K. Goyal.  <a 
href="http://www.fourierandwavelets.org/FSP_v1.1_2014.pdf" ><span 
class="ecti-1000">Foundations of Signal</span>
   <span 
class="ecti-1000">Processing</span></a>. Cambridge University Press, 2014.
</p>
   </div>
    
</body></html> 

                                                                  


