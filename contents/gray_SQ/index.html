<!DOCTYPE html> 
<html lang='en-US' xml:lang='en-US'> 
<head> <title>Sistemas Multimedia - Study Guide - Milestone 3 - Task 1: Scalar Quantization
of Gray-scale Images</title> 
<meta charset='utf-8' /> 
<meta content='TeX4ht (https://tug.org/tex4ht/)' name='generator' /> 
<meta content='width=device-width,initial-scale=1' name='viewport' /> 
<link href='index.css' rel='stylesheet' type='text/css' /> 
<meta content='index.tex' name='src' /> 
<script>window.MathJax = { tex: { tags: "ams", }, }; </script> 
 <script async='async' id='MathJax-script' src='https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js' type='text/javascript'></script>  
</head><body>
   <div class='maketitle'>
                                                                  

                                                                  
                                                                  

                                                                  

<h2 class='titleHead'><a href='https://sistemas-multimedia.github.io/'>Sistemas Multimedia</a> - Study Guide - Milestone
3 - Task 1: Scalar Quantization of Gray-scale
Images</h2>
 <div class='author'><a href='https://cms.ual.es/UAL/personas/persona.htm?id=515256515553484875'><span class='ecrm-1200'>Vicente González Ruiz</span></a> <span class='ecrm-1200'>- </span><a href='https://cms.ual.es/UAL/universidad/departamentos/informatica/index.htm'><span class='ecrm-1200'>Depto Informática</span></a> <span class='ecrm-1200'>- </span><a href='https://www.ual.es'><span class='ecrm-1200'>UAL</span></a></div><br />
<div class='date'><span class='ecrm-1200'>July 4, 2022</span></div>
   </div>
   <h3 class='likesectionHead' id='contents'><a id='x1-1000'></a>Contents</h3>
   <div class='tableofcontents'>
    <span class='sectionToc'>1 <a href='#objective' id='QQ2-1-2'>Objective</a></span>
<br />    <span class='sectionToc'>2 <a href='#grayscale-images' id='QQ2-1-3'>Gray-scale images</a></span>
<br />    <span class='sectionToc'>3 <a href='#scalar-and-vector-quantization-of-grayscale-images' id='QQ2-1-4'>Scalar and vector quantization of gray-scale images</a></span>
<br />    <span class='sectionToc'>4 <a href='#bitrate-control-in-sq-png' id='QQ2-1-5'>Bit-rate control in SQ + PNG</a></span>
<br />    <span class='sectionToc'>5 <a href='#what-do-i-have-to-do' id='QQ2-1-6'>What do I have to do?</a></span>
<br />    <span class='sectionToc'>6 <a href='#timming' id='QQ2-1-7'>Timming</a></span>
<br />    <span class='sectionToc'>7 <a href='#deliverables' id='QQ2-1-8'>Deliverables</a></span>
<br />    <span class='sectionToc'>8 <a href='#resources' id='QQ2-1-9'>Resources</a></span>
   </div>
<!-- l. 9 --><p class='noindent'>
</p>
   <h3 class='sectionHead' id='objective'><span class='titlemark'>1   </span> <a id='x1-20001'></a>Objective</h3>
<!-- l. 11 --><p class='noindent'><a href='https://en.wikipedia.org/wiki/Visual_system'>Humans</a> are quite efficient recognizing the information stored in images (and
videos), even when this information has been degraded or partially lost.
Quantization <span class='cite'>[<span class='ecbx-1000'>?</span>, <a href='#Xsayood2017introduction'>5</a>, <a href='#Xvetterli2014foundations'>6</a>]</span> is a technique that can remove the visual information that is
less relevant for us, and implies a <a href='https://en.wikipedia.org/wiki/Lossy_compression'>lossy coding</a>, which provides <a href='https://en.wikipedia.org/wiki/Data_compression_ratio'>compression
ratios</a> <span class='cite'>[<a href='#Xvruiz__information_theory'>2</a>]</span> usually at least one order of magnitude higher than using <a href='https://en.wikipedia.org/wiki/Lossless_compression'>lossless
coding</a>.
                                                                  

                                                                  
</p><!-- l. 25 --><p class='indent'>   This task shows how to implement a <a href='https://en.wikipedia.org/wiki/Lossy_compression'>lossy (gray-scale) image compressor</a> based on
Scalar Quantization <span class='cite'>[<a href='#Xvruiz__scalar_quantization'>3</a>]</span> and PNG <span class='cite'>[<span class='ecbx-1000'>?</span>]</span>.
</p><!-- l. 32 --><p class='noindent'>
</p>
   <h3 class='sectionHead' id='grayscale-images'><span class='titlemark'>2   </span> <a id='x1-30002'></a>Gray-scale images</h3>
<!-- l. 35 --><p class='noindent'>Gray-Scale (GS) images have only one (usually <a href='https://en.wikipedia.org/wiki/Luminance'>luminance</a>, expressed proportionally by the gray
colors) channel<span class='footnote-mark'><a href='#fn1x0' id='fn1x0-bk'><sup class='textsuperscript'>1</sup></a></span><a id='x1-3001f1'></a>.
In most of the cases, the number of bits per pixel (the so called “depth” of the image)
is \(8\), but it is not rare to use up to \(16\) bits/pixel in specific contexts such as in <a href='https://en.wikipedia.org/wiki/Medical_imaging'>Medical
Imaging</a> and <a href='https://en.wikipedia.org/wiki/Remote_sensing'>Remote Sensing</a> <span class='cite'>[<a href='#Xburger2016digital'>1</a>]</span>.
</p><!-- l. 49 --><p class='noindent'>
</p>
   <h3 class='sectionHead' id='scalar-and-vector-quantization-of-grayscale-images'><span class='titlemark'>3   </span> <a id='x1-40003'></a>Scalar and vector quantization of gray-scale images</h3>
<!-- l. 52 --><p class='noindent'>The compression ratio of our lossy image compressor can be controled by means of
quantization. At this point we have basically two alternatives:
     </p><ol class='enumerate1'>
<li class='enumerate' id='x1-4002x1'><span class='ecbx-1000'>Scalar  Quantization  (SQ)</span>:  where  each  pixel  is  quantized  without
     considering the rest of pixels in the image <span class='cite'>[<a href='#Xvruiz__scalar_quantization'>3</a>]</span>.
     </li>
<li class='enumerate' id='x1-4004x2'><span class='ecbx-1000'>Vector   Quantization   (VQ)</span>:   when   the   pixels   are   quantized
     block-by-block (2D vectors) <span class='cite'>[<a href='#Xvruiz__vector_quantization'>4</a>]</span>.</li></ol>
<!-- l. 62 --><p class='noindent'>Notice that VQ exploits the spatial correlation, but SQ doesn’t. For this reason, by
default, we will use PNG after SQ, because PNG can remove the spatial redundancy.
In the case of VQ, only the statistical redundancy remains, that can be exploited by
any entropy codec (and obviously, any image codec).
</p><!-- l. 70 --><p class='noindent'>
</p>
   <h3 class='sectionHead' id='bitrate-control-in-sq-png'><span class='titlemark'>4   </span> <a id='x1-50004'></a>Bit-rate control in SQ + PNG</h3>
<!-- l. 73 --><p class='noindent'>The bit-rate (the number of bits/pixel) obtained after using <span class='ecti-1000'>quantization+PNG</span>
depends on:
                                                                  

                                                                  
     </p><ol class='enumerate1'>
<li class='enumerate' id='x1-5002x1'>The number of output indexes generated by the quantizer.
     </li>
<li class='enumerate' id='x1-5004x2'>The capability of PNG for removing spatial/statistical redudancy, aspect
     that we cannot control with accuracy (only some levels of compression are
     usually available).
     </li>
<li class='enumerate' id='x1-5006x3'>In the case of SQ, the quantization step size \(\Delta \) used. Notice that, usually,
     the higher the \(\Delta \), the higher the compression ratio, the lower the number of
     bits/pixel, and the lower the quality of the reconstructed image.</li></ol>
<!-- l. 85 --><p class='noindent'>Variying \(\Delta \) we should be able to generate a Rate/Distortion (RD) curve, where the \(x\)-axis
represents the bit-rate (in bit/pixel, for example) and the \(y\)-axis represents the
distortion (the <a href='https://en.wikipedia.org/wiki/Root-mean-square_deviation'>Root Mean Square Error (RMSE)</a>, for example).
</p><!-- l. 91 --><p class='indent'>   Normaly, RD curves are convex <span class='cite'>[<a href='#Xvruiz__information_theory'>2</a>]</span> (this can be seen in the notebooks <a href='https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/scalar_quantization/midtread.ipynb'>Midtread
Quantization</a>, <a href='https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/scalar_quantization/midrise.ipynb'>Midrise Quantization</a>, <a href='https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/scalar_quantization/deadzone.ipynb'>Deadzone Quantization</a>, <a href='https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/scalar_quantization/companded.ipynb'>Companded
Quantization</a>, and <a href='https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/scalar_quantization/LloydMax.ipynb'>LloydMax Quantization</a>). This means that:
     </p><ol class='enumerate1'>
<li class='enumerate' id='x1-5008x1'>At low bit-rates the distortion decreases faster than at high bit-rates.
     </li>
<li class='enumerate' id='x1-5010x2'>If we have a <span class='ecti-1000'>scalable </span>code-stream (we can decide how the code-stream will
     be decompressed), we should be aware that some parts of the code-stream
     can minimize faster the RD curve than others.</li></ol>
<!-- l. 108 --><p class='indent'>   As it can be also seen in the notebook <a href='https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/scalar_quantization/compare_quantizers.ipynb'>quantizers_comparison</a>, that the
performance of the quantizers is not the same: usually midrise and midtread,
performs better than deadzone at intermediate bit-rates, but deadzone is the best a
low bit-rates (excluding Lloyd-Max). Deadzone has also another advantage
over midread and midtread: when \(\Delta \) is a power of 2 (which corresponds to a
bit-plane encoding), the obtained RD point is near optimal in the RD space.
Finally, the Lloyd-Max Quantizer reaches the highest performance because it is
adaptive.
                                                                  

                                                                  
</p><!-- l. 123 --><p class='noindent'>
</p>
   <h3 class='sectionHead' id='what-do-i-have-to-do'><span class='titlemark'>5   </span> <a id='x1-60005'></a>What do I have to do?</h3>
<!-- l. 126 --><p class='noindent'>
     </p><ol class='enumerate1'>
<li class='enumerate' id='x1-6002x1'>Create a notebook named “bit-rate_control.ipynb” that, given a maximum
     bit-rate, finds the quantization step \(\Delta ^*\) that minimizes the distortion. Use
     the quantizer that your prefer.
     </li>
<li class='enumerate' id='x1-6004x2'>Modify the notebook <a href='https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/scalar_quantization/LloydMax.ipynb'>LloydMax Quantization</a> to include in the rate the
     amount of bits necessary to encode the <a href='https://en.wikipedia.org/wiki/Probability_density_function'>PDF</a> of the input image.</li></ol>
<!-- l. 140 --><p class='noindent'>
</p>
   <h3 class='sectionHead' id='timming'><span class='titlemark'>6   </span> <a id='x1-70006'></a>Timming</h3>
<!-- l. 142 --><p class='noindent'>Please, finish this milestone before the next class session.
</p><!-- l. 144 --><p class='noindent'>
</p>
   <h3 class='sectionHead' id='deliverables'><span class='titlemark'>7   </span> <a id='x1-80007'></a>Deliverables</h3>
<!-- l. 146 --><p class='noindent'>None.
</p><!-- l. 148 --><p class='noindent'>
</p>
   <h3 class='sectionHead' id='resources'><span class='titlemark'>8   </span> <a id='x1-90008'></a>Resources</h3>
   <div class='thebibliography'>
   <p class='bibitem'><span class='biblabel'>
 [1]<span class='bibsp'>   </span></span><a id='Xburger2016digital'></a>W. Burger and M.J. Burge.  <a href='https://educons.edu.rs/wp-content/uploads/2020/05/2016-Digital-Image-Processing.pdf'><span class='ecti-1000'>Digital Image Processing: An Algorithmic
   </span><span class='ecti-1000'>Introduction Using Java</span></a>. Springer, 2016.
   </p>
   <p class='bibitem'><span class='biblabel'>
 [2]<span class='bibsp'>   </span></span><a id='Xvruiz__information_theory'></a>V. González-Ruiz. <a href='https://vicente-gonzalez-ruiz.github.io/information_theory/'>Information Theory</a>.
                                                                  

                                                                  
   </p>
   <p class='bibitem'><span class='biblabel'>
 [3]<span class='bibsp'>   </span></span><a id='Xvruiz__scalar_quantization'></a>V. González-Ruiz. <a href='https://vicente-gonzalez-ruiz.github.io/scalar_quantization/'>Scalar Quantization</a>.
   </p>
   <p class='bibitem'><span class='biblabel'>
 [4]<span class='bibsp'>   </span></span><a id='Xvruiz__vector_quantization'></a>V. González-Ruiz. <a href='https://vicente-gonzalez-ruiz.github.io/vector_quantization/'>Vector Quantization</a>.
   </p>
   <p class='bibitem'><span class='biblabel'>
 [5]<span class='bibsp'>   </span></span><a id='Xsayood2017introduction'></a>K. Sayood.   <a href='http://rahilshaikh.weebly.com/uploads/1/1/6/3/11635894/data_compression.pdf'><span class='ecti-1000'>Introduction to Data Compression</span></a>.   Morgan  Kaufmann,
   2017.
   </p>
   <p class='bibitem'><span class='biblabel'>
 [6]<span class='bibsp'>   </span></span><a id='Xvetterli2014foundations'></a>M. Vetterli, J. Kovačević, and V.K. Goyal.  <a href='http://www.fourierandwavelets.org/FSP_v1.1_2014.pdf'><span class='ecti-1000'>Foundations of Signal
   </span><span class='ecti-1000'>Processing</span></a>. Cambridge University Press, 2014.
</p>
   </div>
   <div class='footnotes'><!-- l. 41 --><p class='indent'>     <span class='footnote-mark'><a href='#fn1x0-bk' id='fn1x0'><sup class='textsuperscript'>1</sup></a></span><span class='ecrm-0800'>They are usually represented in color displays using gray tones (colors where the same
</span><span class='ecrm-0800'>amount of red, green and blue components have been mixed). However, it is quite difficult to find a
</span><span class='ecrm-0800'>color display with more than 256 gray colors.</span></p>                                                              </div>
 
</body> 
</html>