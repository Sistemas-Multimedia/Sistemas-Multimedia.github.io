<!DOCTYPE html> 
<html> 
<head> <title>Sistemas Multimedia - Study Guide - Milestone 6: Removing Redundancy with a
Color Transform</title> 
<meta charset="UTF-8" /> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<link rel="stylesheet" type="text/css" href="index.css" /> 
<script type="text/javascript" 
src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" 
></script> 
<style type="text/css"> 
.MathJax_MathML {text-indent: 0;} 
</style> 
</head><body 
>
   <div class="maketitle">
                                                                  

                                                                  
                                                                  

                                                                  

<h2 class="titleHead"><a 
href="http://cms.ual.es/UAL/estudios/masteres/plandeestudios/asignaturas/asignatura/MASTER7114?idAss=71142105&idTit=7114" >Sistemas Multimedia</a> - Study Guide - Milestone
6: Removing Redundancy with a Color
Transform</h2>
 <div class="author" ><a 
href="https://cms.ual.es/UAL/personas/persona.htm?id=515256515553484875" ><span 
class="ecrm-1200">Vicente Gonz</span><span 
class="ecrm-1200">á</span><span 
class="ecrm-1200">lez Ruiz</span></a> <span 
class="ecrm-1200">- </span><a 
href="https://cms.ual.es/UAL/universidad/departamentos/informatica/index.htm" ><span 
class="ecrm-1200">Depto Inform</span><span 
class="ecrm-1200">á</span><span 
class="ecrm-1200">tica</span></a> <span 
class="ecrm-1200">- </span><a 
href="https://www.ual.es" ><span 
class="ecrm-1200">UAL</span></a></div><br />
<div class="date" ><span 
class="ecrm-1200">January 7, 2021</span></div>
   </div>
   <h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-10001"></a>Description</h3>
<!--l. 8--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.1   </span> <a 
 id="x1-20001.1"></a>Introduction</h4>
<!--l. 9--><p class="noindent" >The main objective of this milestone is to remove the intercomponent <a 
href="https://en.wikipedia.org/wiki/Data_redundancy" >redundancy</a>
that most of natural images exhibit. In general, redundancy in signals is usually
expressed as a <a 
href="https://en.wikipedia.org/wiki/Correlation_and_dependence" >correlation</a> or statistical/frequency/spatial/temporal dependency
between samples. In the case of an image (and of course, of a video), a pixel (a
sample) is represented usually with three color components (or <a 
href="https://en.wikipedia.org/wiki/Color_image" >channels</a>), each
one measuring the energy in a diﬀerent band of the <a 
href="https://en.wikipedia.org/wiki/Visible_spectrum" >visible spectrum</a>, and
one source of redundancy is the possible correlation between those color
components.
</p><!--l. 23--><p class="indent" >   One way of estimating this redudancy is to compute the <a 
href="https://en.wikipedia.org/wiki/Entropy_(information_theory)" >0-order entropy</a> of the
signal: the higher the entropy, the lower the redudancy. In fact, if we suppose that
the samples of the signal are uncorrelated, the 0-order entropy is an exact mesarure
of the expected bit-rate achieved by an <a 
href="https://en.wikipedia.org/wiki/Arithmetic_coding" >arithmetic encoder</a>. Unfortunately, the
0-order entropy is usally a lower bound for the estimation of the redundancy. A
better way is to use an <a 
href="https://en.wikipedia.org/wiki/Data_compression" >lossless compressor</a>: the higher the length of the
compressed ﬁle compared to the length of the original ﬁle, the lower the
                                                                  

                                                                  
redundancy.<span class="footnote-mark"><a 
href="index2.html#fn1x0"><sup class="textsuperscript">1</sup></a></span><a 
 id="x1-2001f1"></a> 
Notice, however, that although this estimation is more accurate than the entropy, in
general, it depends on the encoding algorithm (diﬀerent algoritms can provide
diﬀerent estimations).
</p><!--l. 42--><p class="indent" >   In this milestone we are going to estimate the intercomponent redundancy of a video
frame <!--l. 43--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>X</mi></math>,
i.e., the redundancy generated by the <a 
href="https://en.wikipedia.org/wiki/Color_space" >color space</a> that has been used to represent
<!--l. 45--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>X</mi></math>. The
two color spaces that are going to be researched are: (1) <a 
href="https://en.wikipedia.org/wiki/RGB_color_model" >the RGB color space</a>, and
(2) the <a 
href="https://en.wikipedia.org/wiki/YCbCr" >YCbCr color space</a>.
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.2   </span> <a 
 id="x1-30001.2"></a>The RGB/YCbCr transform</h4>
<!--l. 52--><p class="noindent" >To transform a (color) pixel from the RGB to the YCbCr domain, we will use <a 
href="https://docs.opencv.org/3.4/de/d25/imgproc_color_conversions.html" >the
RGB to YCbCr (analysis) transform</a>, deﬁned as </p><table class="equation"><tr><td> <a 
 id="x1-3001r1"></a>
<!--l. 55--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
 <mtable  align="axis" style=""  
equalrows="false" columnlines="none none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >Y</mtext></mstyle>   </mtd><mtd 
class="array"  columnalign="center">  <mo 
class="MathClass-rel">=</mo> </mtd><mtd 
class="array"  columnalign="left"> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>2</mn><mn>9</mn><mn>9</mn><mstyle 
class="text"><mtext  >R</mtext></mstyle> <mo 
class="MathClass-bin">+</mo> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn><mn>8</mn><mn>7</mn><mstyle 
class="text"><mtext  >G</mtext></mstyle> <mo 
class="MathClass-bin">+</mo> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>1</mn><mn>1</mn><mn>4</mn><mstyle 
class="text"><mtext  >B</mtext></mstyle>  </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >Cr</mtext></mstyle>  </mtd><mtd 
class="array"  columnalign="center">  <mo 
class="MathClass-rel">=</mo> </mtd><mtd 
class="array"  columnalign="left"> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>7</mn><mn>1</mn><mn>3</mn><mrow ><mo 
class="MathClass-open">(</mo><mrow><mstyle 
class="text"><mtext  >R</mtext></mstyle> <mo 
class="MathClass-bin">−</mo><mstyle 
class="text"><mtext  >Y</mtext></mstyle></mrow><mo 
class="MathClass-close">)</mo></mrow> <mo 
class="MathClass-bin">+</mo> <mi 
>δ</mi>            </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"> <mstyle 
class="text"><mtext  >Cb</mtext></mstyle>  </mtd><mtd 
class="array"  columnalign="center">  <mo 
class="MathClass-rel">=</mo> </mtd><mtd 
class="array"  columnalign="left"> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn><mn>6</mn><mn>4</mn><mrow ><mo 
class="MathClass-open">(</mo><mrow><mstyle 
class="text"><mtext  >B</mtext></mstyle> <mo 
class="MathClass-bin">−</mo><mstyle 
class="text"><mtext  >Y</mtext></mstyle></mrow><mo 
class="MathClass-close">)</mo></mrow> <mo 
class="MathClass-bin">+</mo> <mi 
>δ</mi><mo 
class="MathClass-punc">,</mo>           </mtd></mtr><!--lcl--></mtable>
</math></td><td class="eq-no">(1)</td></tr></table>
<!--l. 63--><p class="indent" >   where </p><table class="equation"><tr><td> <a 
 id="x1-3002r2"></a>
<!--l. 64--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
<mi 
>δ</mi> <mo 
class="MathClass-rel">=</mo> <mfenced separators="" 
open="{"  close="" ><mrow> <mtable  align="axis" style=""  
equalrows="false" columnlines="none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="left">  <mn>1</mn><mn>2</mn><mn>8</mn>     </mtd><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >for 8 bits (unsigned) images</mtext></mstyle><mo 
class="MathClass-punc">,</mo>     </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"> <mn>3</mn><mn>2</mn><mn>7</mn><mn>6</mn><mn>8</mn> </mtd><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >for 16 bits (unsigned) images</mtext></mstyle><mo 
class="MathClass-punc">,</mo>    </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn>     </mtd><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >for ﬂoating point (</mtext></mstyle><mrow ><mo 
class="MathClass-open">[</mo><mrow><mn>0</mn><mo 
class="MathClass-punc">,</mo><mn>1</mn></mrow><mo 
class="MathClass-close">]</mo></mrow><mstyle 
class="text"><mtext  >) images</mtext></mstyle><mo 
class="MathClass-punc">.</mo> </mtd></mtr> <!--ll--></mtable>                                       </mrow></mfenced>
</math></td><td class="eq-no">(2)</td></tr></table>
                                                                  

                                                                  
<!--l. 74--><p class="indent" >   The inverse (synthesis) transform is deﬁned by </p><table class="equation"><tr><td> <a 
 id="x1-3003r3"></a>
<!--l. 75--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
 <mtable  align="axis" style=""  
equalrows="false" columnlines="none none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >R</mtext></mstyle>  </mtd><mtd 
class="array"  columnalign="center">  <mo 
class="MathClass-rel">=</mo> </mtd><mtd 
class="array"  columnalign="left"> <mstyle 
class="text"><mtext  >Y</mtext></mstyle> <mo 
class="MathClass-bin">+</mo> <mn>1</mn><mo 
class="MathClass-punc">.</mo><mn>4</mn><mn>0</mn><mn>3</mn><mrow ><mo 
class="MathClass-open">(</mo><mrow><mstyle 
class="text"><mtext  >Cr</mtext></mstyle> <mo 
class="MathClass-bin">−</mo> <mi 
>δ</mi></mrow><mo 
class="MathClass-close">)</mo></mrow>                       </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >G</mtext></mstyle>  </mtd><mtd 
class="array"  columnalign="center">  <mo 
class="MathClass-rel">=</mo> </mtd><mtd 
class="array"  columnalign="left"> <mstyle 
class="text"><mtext  >Y</mtext></mstyle> <mo 
class="MathClass-bin">−</mo> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>7</mn><mn>1</mn><mn>4</mn><mrow ><mo 
class="MathClass-open">(</mo><mrow><mstyle 
class="text"><mtext  >Cr</mtext></mstyle> <mo 
class="MathClass-bin">−</mo> <mi 
>δ</mi></mrow><mo 
class="MathClass-close">)</mo></mrow> <mo 
class="MathClass-bin">−</mo> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>3</mn><mn>4</mn><mn>4</mn><mrow ><mo 
class="MathClass-open">(</mo><mrow><mstyle 
class="text"><mtext  >Cb</mtext></mstyle> <mo 
class="MathClass-bin">−</mo> <mi 
>δ</mi></mrow><mo 
class="MathClass-close">)</mo></mrow> </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >B</mtext></mstyle>  </mtd><mtd 
class="array"  columnalign="center">  <mo 
class="MathClass-rel">=</mo> </mtd><mtd 
class="array"  columnalign="left"> <mstyle 
class="text"><mtext  >Y</mtext></mstyle> <mo 
class="MathClass-bin">+</mo> <mn>1</mn><mo 
class="MathClass-punc">.</mo><mn>7</mn><mn>7</mn><mn>3</mn><mrow ><mo 
class="MathClass-open">(</mo><mrow><mstyle 
class="text"><mtext  >Cb</mtext></mstyle> <mo 
class="MathClass-bin">−</mo> <mi 
>δ</mi></mrow><mo 
class="MathClass-close">)</mo></mrow><mo 
class="MathClass-punc">.</mo>                   </mtd></mtr><!--lcl--></mtable>
</math></td><td class="eq-no">(3)</td></tr></table>
<!--l. 84--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.3   </span> <a 
 id="x1-40001.3"></a>Quantization in the YCbCr domain</h4>
<!--l. 85--><p class="noindent" >After analyzing the frame (representing it in the YCbCr domain), the next natural step is
quantization. Supposing that we will use a static uniform dead-zone quantizer with quantization
steps <!--l. 88--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Y</mtext></mstyle></mrow></msub 
></math>,
<!--l. 88--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cb</mtext></mstyle></mrow></msub 
></math>, and
<!--l. 88--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cr</mtext></mstyle></mrow></msub 
></math>, for the
components Y, Cb, and CR, repectively, and supposing that the contribution to the
reconstruction of <!--l. 90--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>X</mi></math>
of one of the components is not inﬂuenced by the contribution of the rest of components (for
this, both color spaces (RGB and YCbCr) should be <a 
href="https://en.wikipedia.org/wiki/Orthogonality" >orthogonal</a>), the optimal quantization
steps <!--l. 94--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msubsup><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Y</mtext></mstyle></mrow><mrow 
><mo 
class="MathClass-bin">∗</mo></mrow></msubsup 
></math>,
<!--l. 95--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msubsup><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cb</mtext></mstyle></mrow><mrow 
><mo 
class="MathClass-bin">∗</mo></mrow></msubsup 
></math>, and
<!--l. 95--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msubsup><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cr</mtext></mstyle></mrow><mrow 
><mo 
class="MathClass-bin">∗</mo></mrow></msubsup 
></math>, can
be found using the Constant-Slope <a 
href="https://en.wikipedia.org/wiki/Rate-distortion_theory" >Rate-Distortion</a> Quantization Strategy
(CS-RS-QS) <span class="cite">[<a 
href="#Xvetterli1995wavelets">2</a>, <a 
href="#Xsayood2017introduction">1</a>]</span>. As it can be also seen in this <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/06-color_transform/performance.ipynb" >notebook</a>, a RD (Rate-Distortion)
curve is a 2D graph where we represent the distortion as a function of the bit-rate.
Thus, the closer the curve to the point (0,0) of the graph, the better the
performance of the encoding system in terms of RD. Now, if we suppose that each
component (Y, Cb, and Cr) is quantized and compressed independently, we
can ﬁnd the optimal quantization steps, given a maximum target bit-rate
<!--l. 108--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msup><mrow 
><mi 
>R</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >max</mtext></mstyle></mrow></msup 
></math>,
selecting them as </p><table class="equation"><tr><td> <a 
 id="x1-4001r4"></a>
                                                                  

                                                                  
<!--l. 109--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                         <msub><mrow 
><mi 
>λ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Y</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-rel">=</mo> <msub><mrow 
><mi 
>λ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cb</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-rel">=</mo> <msub><mrow 
><mi 
>λ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cr</mtext></mstyle></mrow></msub 
><mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">(4)</td></tr></table>
<!--l. 112--><p class="indent" >   where <!--l. 112--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>λ</mi><mrow ><mo 
class="MathClass-open">(</mo><mrow><mi 
>R</mi></mrow><mo 
class="MathClass-close">)</mo></mrow></math>
is the slope of the RD curve for a given bit-rate
<!--l. 113--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>R</mi></math>,
satisﬁying also that </p><table class="equation"><tr><td> <a 
 id="x1-4002r5"></a>
<!--l. 114--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                     <msub><mrow 
><mi 
>R</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Y</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-bin">+</mo> <msub><mrow 
><mi 
>R</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cb</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-bin">+</mo> <msub><mrow 
><mi 
>R</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cr</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-rel">≤</mo> <msup><mrow 
><mi 
>R</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >max</mtext></mstyle></mrow></msup 
><mo 
class="MathClass-punc">.</mo>
</math></td><td class="eq-no">(5)</td></tr></table>
<!--l. 118--><p class="indent" >   Unfortunately, the transforms expressed by Eqs. <a 
href="#x1-3001r1">1<!--tex4ht:ref: eq:analysis --></a> and <a 
href="#x1-3003r3">3<!--tex4ht:ref: eq:synthesis --></a> are not orthogonal (for
example, in Eq. <a 
href="#x1-3001r1">1<!--tex4ht:ref: eq:analysis --></a>, the value of Cr depends on the value of Y, and therefore,
there is a dependency between both <a 
href="https://en.wikipedia.org/wiki/Basis_(linear_algebra)" >basis</a>). This diﬁcults the ﬁnding of
<!--l. 123--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msubsup><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Y</mtext></mstyle></mrow><mrow 
><mo 
class="MathClass-bin">∗</mo></mrow></msubsup 
></math>,
<!--l. 124--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msubsup><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cb</mtext></mstyle></mrow><mrow 
><mo 
class="MathClass-bin">∗</mo></mrow></msubsup 
></math>, and
<!--l. 124--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msubsup><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cr</mtext></mstyle></mrow><mrow 
><mo 
class="MathClass-bin">∗</mo></mrow></msubsup 
></math>
because the quantization error generated in one of the components inﬂuences the
quantization error of the rest of components, and when this happens, we cannot use
CS-RS-QS.
</p><!--l. 144--><p class="indent" >   The YCbCr color space is used in most image and video compression standards
because (as we will see in a future milestone) the <a 
href="https://en.wikipedia.org/wiki/Visual_system" >HVS (Human Visual System)</a> is
more sensitive to the Y component (luminance) than to the CbCr components
(crominance), and for this reason, the <span 
class="ecti-1000">croma </span>can be more severely degraded than
the <span 
class="ecti-1000">luma </span>without perceiving this fact, achiving thus higher compression
ratios.
</p><!--l. 152--><p class="indent" >   Anyway, as you can see in this <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/06-color_transform/performance.ipynb" >notebook</a>, the use of the YCbCr color
domain can be beneﬁcial, even using a simple quantization strategy such as </p><table class="equation"><tr><td>
<a 
 id="x1-4003r6"></a>
                                                                  

                                                                  
<!--l. 156--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                         <msub><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Y</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-rel">=</mo> <msub><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cb</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-rel">=</mo> <msub><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cr</mtext></mstyle></mrow></msub 
><mo 
class="MathClass-punc">.</mo>
</math></td><td class="eq-no">(6)</td></tr></table>
<!--l. 159--><p class="indent" >   As it can be seen, the RD curves can be improved for most bit-rates, and
therefore, it can be an interesting tool for removing the intercomponent redundancy
from a pure mathematical point of view.
</p><!--l. 163--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.4   </span> <a 
 id="x1-50001.4"></a>The RGB/YCoCg transform</h4>
<!--l. 164--><p class="noindent" >Clearly, orthogonality is a desired property in compression systems. For this reason,
other similar (but orthogonal) transforms has been proposed. One of the proposed
color spaces that is orthogonal to the RGB one is the YCoCg color space. The
analysis transform is </p><table class="equation"><tr><td> <a 
 id="x1-5001r7"></a>
<!--l. 168--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
 <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >Y</mtext></mstyle>  </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mstyle 
class="text"><mtext  >Co</mtext></mstyle></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >Cg</mtext></mstyle>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                             </mrow></mfenced> <mo 
class="MathClass-rel">=</mo>  <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center">   <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><mn>4</mn></mrow></mfrac>    </mtd><mtd 
class="array"  columnalign="center">  <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><mn>2</mn></mrow></mfrac>  </mtd><mtd 
class="array"  columnalign="center">    <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><mn>4</mn></mrow></mfrac>    </mtd>
</mtr> <mtr><mtd 
class="array"  columnalign="center">    <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><mn>2</mn></mrow></mfrac>    </mtd><mtd 
class="array"  columnalign="center">  <mn>0</mn>  </mtd><mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">−</mo><mfrac><mrow 
><mn>1</mn></mrow>
<mrow 
><mn>2</mn></mrow></mfrac>  </mtd>
</mtr> <mtr><mtd 
class="array"  columnalign="center">  <mo 
class="MathClass-bin">−</mo><mfrac><mrow 
><mn>1</mn></mrow>
<mrow 
><mn>4</mn></mrow></mfrac>  </mtd><mtd 
class="array"  columnalign="center">  <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><mn>2</mn></mrow></mfrac>  </mtd><mtd 
class="array"  columnalign="center">  <mo 
class="MathClass-bin">−</mo><mfrac><mrow 
><mn>1</mn></mrow>
<mrow 
><mn>4</mn></mrow></mfrac>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                                    </mrow></mfenced>  <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >R</mtext></mstyle>  </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mstyle 
class="text"><mtext  >G</mtext></mstyle></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >B</mtext></mstyle>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                               </mrow></mfenced> <mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">(7)</td></tr></table>
<!--l. 187--><p class="indent" >   and the synthesis transform is </p><table class="equation"><tr><td> <a 
 id="x1-5002r8"></a>
<!--l. 188--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
 <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >R</mtext></mstyle>  </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mstyle 
class="text"><mtext  >G</mtext></mstyle></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >B</mtext></mstyle>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                               </mrow></mfenced> <mo 
class="MathClass-rel">=</mo>  <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center"> <mn>1</mn> </mtd><mtd 
class="array"  columnalign="center">   <mn>1</mn>   </mtd><mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">−</mo><mn>1</mn> </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mn>1</mn> </mtd> <mtd 
class="array"  columnalign="center"> <mn>0</mn> </mtd> <mtd 
class="array"  columnalign="center"> <mn>1</mn></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center"> <mn>1</mn> </mtd><mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">−</mo><mn>1</mn> </mtd><mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">−</mo><mn>1</mn> </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                  </mrow></mfenced> <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >Y</mtext></mstyle>  </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mstyle 
class="text"><mtext  >Co</mtext></mstyle></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >Cg</mtext></mstyle>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                             </mrow></mfenced> <mo 
class="MathClass-punc">.</mo>
</math></td><td class="eq-no">(8)</td></tr></table>
                                                                  

                                                                  
<!--l. 208--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">2   </span> <a 
 id="x1-60002"></a>What you have to do?</h3>
<!--l. 210--><p class="noindent" >
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-6002x1">Please, run the previous <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/06-color_transform/performance.ipynb" >notebook</a> to learn some insights about the problem
     of the optimal quantization (given a bit-rate, ﬁnd the quantization pattern
     that minimizes the distortion). Can you imagine a strategy to ﬁnd <!--l. 216--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msubsup><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Y</mtext></mstyle></mrow><mrow 
><mo 
class="MathClass-bin">∗</mo></mrow></msubsup 
></math>,
     <!--l. 216--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msubsup><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cb</mtext></mstyle></mrow><mrow 
><mo 
class="MathClass-bin">∗</mo></mrow></msubsup 
></math>,
     and <!--l. 217--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msubsup><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cr</mtext></mstyle></mrow><mrow 
><mo 
class="MathClass-bin">∗</mo></mrow></msubsup 
></math>?
     Hint: Although this is not compulsory, it makes sense to suppose that
     <!--l. 219--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cb</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-rel">=</mo> <msub><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cr</mtext></mstyle></mrow></msub 
></math>
     because the HVS has the same sensitivity to both croma components.
     </li>
     <li 
  class="enumerate" id="x1-6004x2">Include in the previous <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/06-color_transform/performance.ipynb" >notebook</a> an implementation of the RGB/YCoCg
     transform. Compare it with the RGB/YCbCr transform, in the RD plane.
     For the image used in the notebook, ﬁnd an optimal quantization pattern
     (determine <!--l. 226--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msubsup><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Y</mtext></mstyle></mrow><mrow 
><mo 
class="MathClass-bin">∗</mo></mrow></msubsup 
></math>,
     <!--l. 226--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msubsup><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cb</mtext></mstyle></mrow><mrow 
><mo 
class="MathClass-bin">∗</mo></mrow></msubsup 
></math>,
     and <!--l. 227--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msubsup><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cr</mtext></mstyle></mrow><mrow 
><mo 
class="MathClass-bin">∗</mo></mrow></msubsup 
></math>)
     given a target bit-rate <!--l. 227--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msup><mrow 
><mi 
>R</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >max</mtext></mstyle></mrow></msup 
></math>.</li></ol>
<!--l. 230--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">3   </span> <a 
 id="x1-70003"></a>Timming</h3>
<!--l. 232--><p class="noindent" >Please, ﬁnish this notebook before the next class session.
</p><!--l. 234--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">4   </span> <a 
 id="x1-80004"></a>Deliverables</h3>
<!--l. 236--><p class="noindent" >None.
</p><!--l. 238--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">5   </span> <a 
 id="x1-90005"></a>Resources</h3>
   <div class="thebibliography">
                                                                  

                                                                  
   <p class="bibitem" ><span class="biblabel">
 [1]<span class="bibsp">   </span></span><a 
 id="Xsayood2017introduction"></a>K. Sayood. <a 
href="http://rahilshaikh.weebly.com/uploads/1/1/6/3/11635894/data_compression.pdf" ><span 
class="ecti-1000">Introduction to data compression</span></a>. Morgan Kaufmann, 2017.
   </p>
   <p class="bibitem" ><span class="biblabel">
 [2]<span class="bibsp">   </span></span><a 
 id="Xvetterli1995wavelets"></a>M. Vetterli   and   J. Kovacevic.      <a 
href="http://waveletsandsubbandcoding.org/Repository/VetterliKovacevic95_Manuscript.pdf" ><span 
class="ecti-1000">Wavelets  and  Subband  Coding</span></a>.
   Prentice-hall, 1995.
</p>
   </div>
<a 
 id="Q1-1-10"></a>
    
</body> 
</html>
                                                                  


