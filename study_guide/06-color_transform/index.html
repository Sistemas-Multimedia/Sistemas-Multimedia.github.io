<!DOCTYPE html> 
<html> 
<head> <title>Sistemas Multimedia - Study Guide - Milestone 6: Removing Redundancy with a
Color Transform</title> 
<meta charset="UTF-8" /> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<link rel="stylesheet" type="text/css" href="index.css" /> 
<script type="text/javascript" 
src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" 
></script> 
<style type="text/css"> 
.MathJax_MathML {text-indent: 0;} 
</style> 
</head><body 
>
   <div class="maketitle">
                                                                  

                                                                  
                                                                  

                                                                  

<h2 class="titleHead"><a 
href="http://cms.ual.es/UAL/estudios/masteres/plandeestudios/asignaturas/asignatura/MASTER7114?idAss=71142105&idTit=7114" >Sistemas Multimedia</a> - Study Guide - Milestone
6: Removing Redundancy with a Color
Transform</h2>
 <div class="author" ><a 
href="https://cms.ual.es/UAL/personas/persona.htm?id=515256515553484875" ><span 
class="ecrm-1200">Vicente Gonz</span><span 
class="ecrm-1200">á</span><span 
class="ecrm-1200">lez Ruiz</span></a> <span 
class="ecrm-1200">- </span><a 
href="https://cms.ual.es/UAL/universidad/departamentos/informatica/index.htm" ><span 
class="ecrm-1200">Depto Inform</span><span 
class="ecrm-1200">á</span><span 
class="ecrm-1200">tica</span></a> <span 
class="ecrm-1200">- </span><a 
href="https://www.ual.es" ><span 
class="ecrm-1200">UAL</span></a></div><br />
<div class="date" ><span 
class="ecrm-1200">January 13, 2021</span></div>
   </div>
   <h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-10001"></a>Description</h3>
<!--l. 8--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.1   </span> <a 
 id="x1-20001.1"></a>Introduction</h4>
<!--l. 9--><p class="noindent" >As we saw in the previous milestone, the RGB domain is highly correlated. For this
reason, in this milestone we will try to remove the intercomponent <a 
href="https://en.wikipedia.org/wiki/Data_redundancy" >redundancy</a> that
most of natural images exhibit. As a result, we will concentrate the energy of the
signal in a small number of samples.
</p><!--l. 16--><p class="indent" >   In general, redundancy in signals is usually expressed as a <a 
href="https://en.wikipedia.org/wiki/Correlation_and_dependence" >correlation</a> dependency
between samples. In the case of an image (and of course, of a video), a pixel
is represented usually through three color components (or <a 
href="https://en.wikipedia.org/wiki/Color_image" >channels</a>), each
one measuring the energy in a diﬀerent band of the <a 
href="https://en.wikipedia.org/wiki/Visible_spectrum" >visible spectrum</a>, and
one source of redundancy is the possible correlation between those color
components.
</p><!--l. 26--><p class="indent" >   To estimate the <a 
href="https://en.wikipedia.org/wiki/Redundancy_(information_theory)" >redundancy</a> we will use basically two options:
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-2002x1">To  compute  the  <a 
href="https://en.wikipedia.org/wiki/Entropy_(information_theory)" >0-order  (memoryless  sources)  entropy</a>  of  the  signal:
     the higher the entropy, the lower the redudancy. In fact, if we suppose
     that the samples of the signal are uncorrelated, the 0-order entropy is
     an  exact  mesarure  of  the  expected  bit-rate  achieved  by  an  <a 
href="https://en.wikipedia.org/wiki/Arithmetic_coding" >arithmetic
                                                                  

                                                                  
     encoder</a>. Unfortunately, the 0-order entropy is usually a lower bound for
     the estimation of the redundancy.
     </li>
     <li 
  class="enumerate" id="x1-2004x2">A better way is to use an <a 
href="https://en.wikipedia.org/wiki/Data_compression" >lossless compressor</a>: the higher the length of the
     compressed ﬁle compared to the length of the original ﬁle, the lower the
     redundancy.<span class="footnote-mark"><a 
href="index2.html#fn1x0"><sup class="textsuperscript">1</sup></a></span><a 
 id="x1-2005f1"></a> 
     Notice,  however,  that  although  this  estimation  is  more  accurate  than
     the entropy, in general, it depends on the encoding algorithm (diﬀerent
     algoritms can provide diﬀerent estimations).</li></ol>
<!--l. 52--><p class="indent" >   In this milestone we are going to remove the intercomponent redundancy of a video
frame <!--l. 53--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>X</mi></math>,
i.e., the redundancy that may exist between the color components of each pixel of
<!--l. 54--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>X</mi></math>. The
<a 
href="https://en.wikipedia.org/wiki/Color_space" >color spaces</a> that we will compare are: (1) <a 
href="https://en.wikipedia.org/wiki/RGB_color_model" >RGB</a>, (2) the <a 
href="https://en.wikipedia.org/wiki/YCbCr" >YCrCb</a>, and (3) the
<a 
href="https://en.wikipedia.org/wiki/YCoCg" >YCoCg</a>.
</p><!--l. 61--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.2   </span> <a 
 id="x1-30001.2"></a>Some words about transform coding</h4>
<!--l. 62--><p class="noindent" >Quantization is more eﬀective (the compression ratios are higher) when
the energy of the signal is accumulated in an small number of samples
because we can dedicate the bit-rate to encode the more energetic
samples.<span class="footnote-mark"><a 
href="index3.html#fn2x0"><sup class="textsuperscript">2</sup></a></span><a 
 id="x1-3001f2"></a> 
<a 
href="https://web.stanford.edu/class/ee398a/handouts/lectures/07-TransformCoding.pdf" >Transform coding</a> can exploit <a 
href="https://en.wikipedia.org/wiki/Correlation_and_dependence" >correlation</a> in <a 
href="https://en.wikipedia.org/wiki/Signal" >signals</a> to concentrate the <a 
href="https://en.wikipedia.org/wiki/Energy_(signal_processing)" >energy</a>. All
linear<span class="footnote-mark"><a 
href="index4.html#fn3x0"><sup class="textsuperscript">3</sup></a></span><a 
 id="x1-3002f3"></a> 
transforms can be described by <a 
href="https://en.wikipedia.org/wiki/Matrix_multiplication" >matrix-vector product</a> <span class="cite">[<a 
href="#Xstrang4linear">3</a>]</span> as </p><table class="equation"><tr><td> <a 
 id="x1-3003r1"></a>
                                                                  

                                                                  
<!--l. 82--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                             <mi 
>y</mi> <mo 
class="MathClass-rel">=</mo> <mi 
>K</mi><mi 
>x</mi><mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">(1)</td></tr></table>
<!--l. 86--><p class="indent" >   where <!--l. 86--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>x</mi></math> is the input
signal, <!--l. 86--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>K</mi></math> is the analysis
transform matrix, and <!--l. 87--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>y</mi></math>
is the output decomposition. Notice that </p><table class="equation"><tr><td> <a 
 id="x1-3004r2"></a>
<!--l. 88--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                           <msub><mrow 
><mi 
>y</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
> <mo 
class="MathClass-rel">=</mo> <mrow ><mo 
class="MathClass-open">⟨</mo><mrow><msub><mrow 
><mi 
>K</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
><mo 
class="MathClass-punc">,</mo><msub><mrow 
><mi 
>x</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
></mrow><mo 
class="MathClass-close">⟩</mo></mrow><mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">(2)</td></tr></table>
<!--l. 91--><p class="indent" >   where <!--l. 91--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>K</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
></math>
is the <!--l. 91--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>i</mi></math>-th
row of <!--l. 91--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>K</mi></math>,
and <!--l. 91--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mrow ><mo 
class="MathClass-open">⟨</mo><mrow><mo 
class="MathClass-bin">⋅</mo><mo 
class="MathClass-punc">,</mo><mo 
class="MathClass-bin">⋅</mo></mrow><mo 
class="MathClass-close">⟩</mo></mrow></math>
denotes the <a 
href="https://mathworld.wolfram.com/InnerProduct.html" >inner product</a>. This basically means that
<!--l. 94--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>y</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
></math>
is proportional to the <a 
href="https://en.wikipedia.org/wiki/Similarity_(geometry)" >similarity</a> between the input signal
<!--l. 96--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>x</mi></math> and the <a 
href="https://en.wikipedia.org/wiki/Finite_impulse_response" >taps</a>
of the <a 
href="https://en.wikipedia.org/wiki/Digital_filter" >ﬁlter</a> <!--l. 99--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>K</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
></math>.
These <a 
href="https://cseweb.ucsd.edu/classes/fa17/cse166-a/lec13.pdf" >slides</a> can help you with this key idea. The inverse (synthesis) transform is
computed by </p><table class="equation"><tr><td> <a 
 id="x1-3005r3"></a>
<!--l. 103--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                            <mi 
>x</mi> <mo 
class="MathClass-rel">=</mo> <msup><mrow 
><mi 
>K</mi></mrow><mrow 
><mo 
class="MathClass-bin">−</mo><mn>1</mn></mrow></msup 
><mi 
>y</mi><mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">(3)</td></tr></table>
                                                                  

                                                                  
<!--l. 107--><p class="indent" >   where <!--l. 107--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msup><mrow 
><mi 
>K</mi></mrow><mrow 
><mo 
class="MathClass-bin">−</mo><mn>1</mn></mrow></msup 
></math> denotes to
the inverse matrix of <!--l. 107--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>K</mi></math>.
For example, the 2x2-<a 
href="https://en.wikipedia.org/wiki/Karhunen-Loeve_theorem" >KLT</a> <span class="cite">[<a 
href="#Xsayood2017introduction">2</a>]</span> is deﬁned by </p><table class="equation"><tr><td> <a 
 id="x1-3006r4"></a>
<!--l. 110--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
 <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center">  <msub><mrow 
><mi 
>y</mi></mrow><mrow 
><mn>0</mn></mrow></msub 
>  </mtd>
</mtr> <mtr><mtd 
class="array"  columnalign="center">  <msub><mrow 
><mi 
>y</mi></mrow><mrow 
><mn>1</mn></mrow></msub 
>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                                                    </mrow></mfenced> <mo 
class="MathClass-rel">=</mo>  <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center">   <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><msqrt><mrow><mn>2</mn></mrow></msqrt></mrow></mfrac>  </mtd><mtd 
class="array"  columnalign="center">    <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><msqrt><mrow><mn>2</mn></mrow></msqrt></mrow></mfrac>  </mtd>
</mtr> <mtr><mtd 
class="array"  columnalign="center">    <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><msqrt><mrow><mn>2</mn></mrow></msqrt></mrow></mfrac>  </mtd><mtd 
class="array"  columnalign="center">  <mfrac><mrow 
><mo 
class="MathClass-bin">−</mo><mn>1</mn></mrow> 
<mrow 
><msqrt><mrow><mn>2</mn></mrow></msqrt></mrow></mfrac>  </mtd>
</mtr>    <!--*\c@MaxMatrixCols c--></mtable>                                                                                                                         </mrow></mfenced>  <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="center">  <msub><mrow 
><mi 
>x</mi></mrow><mrow 
><mn>0</mn></mrow></msub 
>  </mtd>
</mtr> <mtr><mtd 
class="array"  columnalign="center">  <msub><mrow 
><mi 
>x</mi></mrow><mrow 
><mn>1</mn></mrow></msub 
>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                                                    </mrow></mfenced> <mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">(4)</td></tr></table>
<!--l. 123--><p class="indent" >   and it holds that </p><table class="equation"><tr><td> <a 
 id="x1-3007r5"></a>
<!--l. 124--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                          <mi 
>K</mi> <mo 
class="MathClass-rel">=</mo> <msup><mrow 
><mi 
>K</mi></mrow><mrow 
><mo 
class="MathClass-bin">−</mo><mn>1</mn></mrow></msup 
> <mo 
class="MathClass-rel">=</mo> <msup><mrow 
><mi 
>K</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >T</mtext></mstyle></mrow></msup 
><mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">(5)</td></tr></table>
<!--l. 128--><p class="indent" >   where <!--l. 128--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msup><mrow 
><mi 
>K</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >T</mtext></mstyle></mrow></msup 
></math> represents the
transpose matrix of <!--l. 128--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>K</mi></math>.
The Eq. <a 
href="#x1-3007r5">5<!--tex4ht:ref: eq:orthogonal_matrix --></a> is true for all <a 
href="https://en.wikipedia.org/wiki/Orthogonality" >orthogonal</a> transforms, and therefore </p><table class="equation"><tr><td> <a 
 id="x1-3008r6"></a>
<!--l. 132--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                         <mrow ><mo 
class="MathClass-open">⟨</mo><mrow><msub><mrow 
><mi 
>K</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
><mo 
class="MathClass-punc">,</mo><msub><mrow 
><mi 
>K</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
></mrow><mo 
class="MathClass-close">⟩</mo></mrow> <mo 
class="MathClass-rel">=</mo> <mn>0</mn><mo 
class="MathClass-punc">,</mo><mi 
class="MathClass-op">∀</mi><mo> &ApplyFunction;<!--FUNCTION APPLICATION--></mo><mi 
>i</mi><mo 
class="MathClass-rel">≠</mo><mi 
>j</mi><mo 
class="MathClass-punc">.</mo>
</math></td><td class="eq-no">(6)</td></tr></table>
                                                                  

                                                                  
   <h4 class="subsectionHead"><span class="titlemark">1.3   </span> <a 
 id="x1-40001.3"></a>The <a 
href="https://en.wikipedia.org/wiki/YCbCr" >RGB/YCrCb transform</a></h4>
<!--l. 137--><p class="noindent" >
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">1.3.1   </span> <a 
 id="x1-50001.3.1"></a>Analysis and synthesis</h5>
<!--l. 138--><p class="noindent" >To convert a (color) pixel from the RGB into the YCrCb domain, we use the
RGB/YCrCb (analysis) transform <span class="cite">[<a 
href="#Xmalvar2008lifting">1</a>]</span> </p><table class="equation"><tr><td> <a 
 id="x1-5001r7"></a>
<!--l. 140--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
 <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >Y</mtext></mstyle>  </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mstyle 
class="text"><mtext  >Cr</mtext></mstyle></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >Cb</mtext></mstyle>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                             </mrow></mfenced> <mo 
class="MathClass-rel">=</mo>  <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center">   <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>2</mn><mn>9</mn><mn>9</mn>   </mtd><mtd 
class="array"  columnalign="center">   <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn><mn>8</mn><mn>7</mn>   </mtd><mtd 
class="array"  columnalign="center">   <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>1</mn><mn>1</mn><mn>4</mn>   </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn> </mtd> <mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">−</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>4</mn><mn>1</mn><mn>8</mn><mn>7</mn> </mtd> <mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">−</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>0</mn><mn>8</mn><mn>1</mn><mn>3</mn></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">−</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>1</mn><mn>6</mn><mn>8</mn><mn>7</mn> </mtd><mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">−</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>3</mn><mn>3</mn><mn>1</mn><mn>3</mn> </mtd><mtd 
class="array"  columnalign="center">     <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn>     </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                           </mrow></mfenced> <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >R</mtext></mstyle>  </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mstyle 
class="text"><mtext  >G</mtext></mstyle></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >B</mtext></mstyle>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                               </mrow></mfenced> <mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">(7)</td></tr></table>
<!--l. 160--><p class="indent" >   where Y is the luminance (or <span 
class="ecti-1000">luma</span>) component and CrCb is the crominance (or
<span 
class="ecti-1000">chroma</span>). The main reason for such a mapping is that the <a 
href="https://en.wikipedia.org/wiki/Visual_system" >HVS (Human Visual
System)</a> is much less sensitive to high-frequency information in chroma. Thus,
compression systems such as <a 
href="https://en.wikipedia.org/wiki/JPEG" >JPEG</a> can <a 
href="https://en.wikipedia.org/wiki/Downsampling_(signal_processing)" >downsample</a> the chroma components
(usually by 2:1 in each of the horizontal and vertical directions), as well as
increase their quantization step sizes with respect to luma, to achieve further
<a 
href="https://en.wikipedia.org/wiki/Data_compression_ratio" >compression</a> <span class="cite">[<a 
href="#Xmalvar2008lifting">1</a>]</span>.
</p><!--l. 172--><p class="indent" >   Eq. <a 
href="#x1-5001r7">7<!--tex4ht:ref: eq:YCrCb --></a> <a 
href="https://docs.opencv.org/3.4/de/d25/imgproc_color_conversions.html" >can be also written as</a> </p><table class="equation"><tr><td> <a 
 id="x1-5002r8"></a>
<!--l. 175--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
 <mtable  align="axis" style=""  
equalrows="false" columnlines="none none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >Y</mtext></mstyle>   </mtd><mtd 
class="array"  columnalign="center">  <mo 
class="MathClass-rel">=</mo> </mtd><mtd 
class="array"  columnalign="left"> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>2</mn><mn>9</mn><mn>9</mn><mstyle 
class="text"><mtext  >R</mtext></mstyle> <mo 
class="MathClass-bin">+</mo> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn><mn>8</mn><mn>7</mn><mstyle 
class="text"><mtext  >G</mtext></mstyle> <mo 
class="MathClass-bin">+</mo> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>1</mn><mn>1</mn><mn>4</mn><mstyle 
class="text"><mtext  >B</mtext></mstyle>  </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >Cr</mtext></mstyle>  </mtd><mtd 
class="array"  columnalign="center">  <mo 
class="MathClass-rel">=</mo> </mtd><mtd 
class="array"  columnalign="left"> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>7</mn><mn>1</mn><mn>3</mn><mrow ><mo 
class="MathClass-open">(</mo><mrow><mstyle 
class="text"><mtext  >R</mtext></mstyle> <mo 
class="MathClass-bin">−</mo><mstyle 
class="text"><mtext  >Y</mtext></mstyle></mrow><mo 
class="MathClass-close">)</mo></mrow> <mo 
class="MathClass-bin">+</mo> <mi 
>δ</mi>            </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"> <mstyle 
class="text"><mtext  >Cb</mtext></mstyle>  </mtd><mtd 
class="array"  columnalign="center">  <mo 
class="MathClass-rel">=</mo> </mtd><mtd 
class="array"  columnalign="left"> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn><mn>6</mn><mn>4</mn><mrow ><mo 
class="MathClass-open">(</mo><mrow><mstyle 
class="text"><mtext  >B</mtext></mstyle> <mo 
class="MathClass-bin">−</mo><mstyle 
class="text"><mtext  >Y</mtext></mstyle></mrow><mo 
class="MathClass-close">)</mo></mrow> <mo 
class="MathClass-bin">+</mo> <mi 
>δ</mi><mo 
class="MathClass-punc">,</mo>           </mtd></mtr><!--lcl--></mtable>
</math></td><td class="eq-no">(8)</td></tr></table>
<!--l. 183--><p class="indent" >   where, </p><table class="equation"><tr><td> <a 
 id="x1-5003r9"></a>
                                                                  

                                                                  
<!--l. 184--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
<mi 
>δ</mi> <mo 
class="MathClass-rel">=</mo> <mfenced separators="" 
open="{"  close="" ><mrow> <mtable  align="axis" style=""  
equalrows="false" columnlines="none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="left">  <mn>1</mn><mn>2</mn><mn>8</mn>     </mtd><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >for 8 bits (unsigned) images</mtext></mstyle><mo 
class="MathClass-punc">,</mo>     </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"> <mn>3</mn><mn>2</mn><mn>7</mn><mn>6</mn><mn>8</mn> </mtd><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >for 16 bits (unsigned) images</mtext></mstyle><mo 
class="MathClass-punc">,</mo>    </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn>     </mtd><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >for ﬂoating point (</mtext></mstyle><mrow ><mo 
class="MathClass-open">[</mo><mrow><mn>0</mn><mo 
class="MathClass-punc">,</mo><mn>1</mn></mrow><mo 
class="MathClass-close">]</mo></mrow><mstyle 
class="text"><mtext  >) images</mtext></mstyle><mo 
class="MathClass-punc">.</mo> </mtd></mtr> <!--ll--></mtable>                                       </mrow></mfenced>
</math></td><td class="eq-no">(9)</td></tr></table>
<!--l. 194--><p class="indent" >   is  used  to  avoid  negative
components<span class="footnote-mark"><a 
href="index5.html#fn4x0"><sup class="textsuperscript">4</sup></a></span><a 
 id="x1-5004f4"></a> .
As it can be seen, Cr and Cb are scaled versions of
<!--l. 198--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >R</mtext></mstyle> <mo 
class="MathClass-bin">−</mo><mstyle 
class="text"><mtext  >Y</mtext></mstyle></math> and
<!--l. 198--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >B</mtext></mstyle> <mo 
class="MathClass-bin">−</mo><mstyle 
class="text"><mtext  >Y</mtext></mstyle></math>, so Cr
and Cb can be interpreted as measures of how much red and blue content in
a pixel diﬀers from luma, respectively. Notice also that for a gray pixel,
<!--l. 201--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >R</mtext></mstyle> <mo 
class="MathClass-rel">=</mo> <mstyle 
class="text"><mtext  >G</mtext></mstyle> <mo 
class="MathClass-rel">=</mo> <mstyle 
class="text"><mtext  >B</mtext></mstyle> <mo 
class="MathClass-rel">=</mo> <mstyle 
class="text"><mtext  >Y</mtext></mstyle></math>, and so
<!--l. 202--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >Cr</mtext></mstyle> <mo 
class="MathClass-rel">=</mo> <mstyle 
class="text"><mtext  >Cb</mtext></mstyle> <mo 
class="MathClass-rel">=</mo> <mn>0</mn></math> <span class="cite">[<a 
href="#Xmalvar2008lifting">1</a>]</span>.
</p><!--l. 204--><p class="indent" >   The inverse (synthesis) transform is deﬁned by </p><table class="equation"><tr><td> <a 
 id="x1-5005r10"></a>
<!--l. 205--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
 <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >R</mtext></mstyle>  </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mstyle 
class="text"><mtext  >G</mtext></mstyle></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >B</mtext></mstyle>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                               </mrow></mfenced> <mo 
class="MathClass-rel">=</mo>  <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center"> <mn>1</mn> </mtd><mtd 
class="array"  columnalign="center">   <mn>1</mn><mo 
class="MathClass-punc">.</mo><mn>4</mn><mn>0</mn><mn>2</mn>   </mtd><mtd 
class="array"  columnalign="center">     <mn>0</mn>     </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mn>1</mn> </mtd> <mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">−</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>7</mn><mn>1</mn><mn>4</mn> </mtd> <mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">−</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>3</mn><mn>4</mn><mn>4</mn></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center"> <mn>1</mn> </mtd><mtd 
class="array"  columnalign="center">     <mn>0</mn>     </mtd><mtd 
class="array"  columnalign="center">   <mn>1</mn><mo 
class="MathClass-punc">.</mo><mn>7</mn><mn>7</mn><mn>2</mn>   </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                       </mrow></mfenced> <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >Y</mtext></mstyle>  </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mstyle 
class="text"><mtext  >Cr</mtext></mstyle></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >Cb</mtext></mstyle>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                             </mrow></mfenced> <mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">(10)</td></tr></table>
<!--l. 224--><p class="indent" >   or alternatively, by </p><table class="equation"><tr><td> <a 
 id="x1-5006r11"></a>
                                                                  

                                                                  
<!--l. 225--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
 <mtable  align="axis" style=""  
equalrows="false" columnlines="none none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >R</mtext></mstyle>  </mtd><mtd 
class="array"  columnalign="center">  <mo 
class="MathClass-rel">=</mo> </mtd><mtd 
class="array"  columnalign="left"> <mstyle 
class="text"><mtext  >Y</mtext></mstyle> <mo 
class="MathClass-bin">+</mo> <mn>1</mn><mo 
class="MathClass-punc">.</mo><mn>4</mn><mn>0</mn><mn>3</mn><mrow ><mo 
class="MathClass-open">(</mo><mrow><mstyle 
class="text"><mtext  >Cr</mtext></mstyle> <mo 
class="MathClass-bin">−</mo> <mi 
>δ</mi></mrow><mo 
class="MathClass-close">)</mo></mrow>                       </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >G</mtext></mstyle>  </mtd><mtd 
class="array"  columnalign="center">  <mo 
class="MathClass-rel">=</mo> </mtd><mtd 
class="array"  columnalign="left"> <mstyle 
class="text"><mtext  >Y</mtext></mstyle> <mo 
class="MathClass-bin">−</mo> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>7</mn><mn>1</mn><mn>4</mn><mrow ><mo 
class="MathClass-open">(</mo><mrow><mstyle 
class="text"><mtext  >Cr</mtext></mstyle> <mo 
class="MathClass-bin">−</mo> <mi 
>δ</mi></mrow><mo 
class="MathClass-close">)</mo></mrow> <mo 
class="MathClass-bin">−</mo> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>3</mn><mn>4</mn><mn>4</mn><mrow ><mo 
class="MathClass-open">(</mo><mrow><mstyle 
class="text"><mtext  >Cb</mtext></mstyle> <mo 
class="MathClass-bin">−</mo> <mi 
>δ</mi></mrow><mo 
class="MathClass-close">)</mo></mrow> </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >B</mtext></mstyle>  </mtd><mtd 
class="array"  columnalign="center">  <mo 
class="MathClass-rel">=</mo> </mtd><mtd 
class="array"  columnalign="left"> <mstyle 
class="text"><mtext  >Y</mtext></mstyle> <mo 
class="MathClass-bin">+</mo> <mn>1</mn><mo 
class="MathClass-punc">.</mo><mn>7</mn><mn>7</mn><mn>3</mn><mrow ><mo 
class="MathClass-open">(</mo><mrow><mstyle 
class="text"><mtext  >Cb</mtext></mstyle> <mo 
class="MathClass-bin">−</mo> <mi 
>δ</mi></mrow><mo 
class="MathClass-close">)</mo></mrow><mo 
class="MathClass-punc">.</mo>                   </mtd></mtr><!--lcl--></mtable>
</math></td><td class="eq-no">(11)</td></tr></table>
   <h5 class="subsubsectionHead"><span class="titlemark">1.3.2   </span> <a 
 id="x1-60001.3.2"></a>Quantization</h5>
<!--l. 235--><p class="noindent" >After analyzing the frame (representing it in the YCrCb domain), the next natural
step is quantization. Unfortunately, the RGB/YCrCb transform is orthogonal is not
orthogonal<span class="footnote-mark"><a 
href="index6.html#fn5x0"><sup class="textsuperscript">5</sup></a></span><a 
 id="x1-6001f5"></a> 
and therefore the contribution of each channel to the quality of the reconstructed
image <!--l. 243--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mover 
accent="true"><mrow 
><mi 
>X</mi></mrow><mo accent="true">̃</mo></mover></math>
are not additive (this can be seen in this <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/06-color_transform/performance.ipynb" >notebook</a>). For that reason, and only for the
sake of simplicity, we will use </p><table class="equation"><tr><td> <a 
 id="x1-6002r12"></a>
<!--l. 247--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                         <msub><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Y</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-rel">=</mo> <msub><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cr</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-rel">=</mo> <msub><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cb</mtext></mstyle></mrow></msub 
><mo 
class="MathClass-punc">.</mo>
</math></td><td class="eq-no">(12)</td></tr></table>
   <h4 class="subsectionHead"><span class="titlemark">1.4   </span> <a 
 id="x1-70001.4"></a>The <a 
href="https://en.wikipedia.org/wiki/YCoCg" >RGB/YCoCg transform</a></h4>
<!--l. 385--><p class="noindent" >
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">1.4.1   </span> <a 
 id="x1-80001.4.1"></a>Analysis and synthesis</h5>
<!--l. 386--><p class="noindent" >Clearly, orthogonality is a desired property in compression systems. On the other
hand, Eqs. <a 
href="#x1-5001r7">7<!--tex4ht:ref: eq:YCrCb --></a> and <a 
href="#x1-5003r9">9<!--tex4ht:ref: eq:iYCrCb --></a> were derived by <a 
href="https://en.wikipedia.org/wiki/Principal_component_analysis" >Principal Component Analysis (PCA)</a> on
old<span class="footnote-mark"><a 
href="index7.html#fn6x0"><sup class="textsuperscript">6</sup></a></span><a 
 id="x1-8001f6"></a> 
                                                                  

                                                                  
video data. The same procedure has been carried out with
newer<span class="footnote-mark"><a 
href="index8.html#fn7x0"><sup class="textsuperscript">7</sup></a></span><a 
 id="x1-8002f7"></a> 
images, obtaining </p><table class="equation"><tr><td> <a 
 id="x1-8003r13"></a>
<!--l. 394--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
 <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >Y</mtext></mstyle>  </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"><msub><mrow 
> <mstyle 
class="text"><mtext  >C</mtext></mstyle> </mrow><mrow 
>
<mn>1</mn></mrow></msub 
>  </mtd>
</mtr> <mtr><mtd 
class="array"  columnalign="center"><msub><mrow 
>  <mstyle 
class="text"><mtext  >C</mtext></mstyle></mrow><mrow 
><mn>2</mn></mrow></msub 
>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                                                    </mrow></mfenced> <mo 
class="MathClass-rel">=</mo>  <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center">   <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><mn>3</mn></mrow></mfrac>    </mtd><mtd 
class="array"  columnalign="center">  <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><mn>3</mn></mrow></mfrac>  </mtd><mtd 
class="array"  columnalign="center">    <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><mn>3</mn></mrow></mfrac>    </mtd>
</mtr> <mtr><mtd 
class="array"  columnalign="center">    <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><mn>2</mn></mrow></mfrac>    </mtd><mtd 
class="array"  columnalign="center">  <mn>0</mn>  </mtd><mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">−</mo><mfrac><mrow 
><mn>1</mn></mrow>
<mrow 
><mn>2</mn></mrow></mfrac>  </mtd>
</mtr> <mtr><mtd 
class="array"  columnalign="center">  <mo 
class="MathClass-bin">−</mo><mfrac><mrow 
><mn>1</mn></mrow>
<mrow 
><mn>4</mn></mrow></mfrac>  </mtd><mtd 
class="array"  columnalign="center">  <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><mn>2</mn></mrow></mfrac>  </mtd><mtd 
class="array"  columnalign="center">  <mo 
class="MathClass-bin">−</mo><mfrac><mrow 
><mn>1</mn></mrow>
<mrow 
><mn>4</mn></mrow></mfrac>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                                    </mrow></mfenced>  <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >R</mtext></mstyle>  </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mstyle 
class="text"><mtext  >G</mtext></mstyle></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >B</mtext></mstyle>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                               </mrow></mfenced> <mo 
class="MathClass-rel">⇔</mo> <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center"> <mstyle 
class="text"><mtext  >R</mtext></mstyle>  </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mstyle 
class="text"><mtext  >G</mtext></mstyle></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >B</mtext></mstyle>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                               </mrow></mfenced> <mo 
class="MathClass-rel">=</mo>  <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center"> <mn>1</mn> </mtd><mtd 
class="array"  columnalign="center">   <mn>1</mn>   </mtd><mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">−</mo><mfrac><mrow 
><mn>2</mn></mrow>
<mrow 
><mn>3</mn></mrow></mfrac>  </mtd>
</mtr> <mtr><mtd 
class="array"  columnalign="center">  <mn>1</mn> </mtd><mtd 
class="array"  columnalign="center">   <mn>0</mn>   </mtd><mtd 
class="array"  columnalign="center">   <mfrac><mrow 
><mn>4</mn></mrow> 
<mrow 
><mn>3</mn></mrow></mfrac>    </mtd>
</mtr> <mtr><mtd 
class="array"  columnalign="center">  <mn>1</mn> </mtd><mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">−</mo><mn>1</mn> </mtd><mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">−</mo><mfrac><mrow 
><mn>2</mn></mrow>
<mrow 
><mn>3</mn></mrow></mfrac>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                                     </mrow></mfenced>  <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="center">   <mstyle 
class="text"><mtext  >Y</mtext></mstyle>  </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"><msub><mrow 
> <mstyle 
class="text"><mtext  >C</mtext></mstyle> </mrow><mrow 
>
<mn>1</mn></mrow></msub 
>  </mtd>
</mtr> <mtr><mtd 
class="array"  columnalign="center"><msub><mrow 
>  <mstyle 
class="text"><mtext  >C</mtext></mstyle></mrow><mrow 
><mn>2</mn></mrow></msub 
>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                                                    </mrow></mfenced> <mo 
class="MathClass-punc">.</mo>
</math></td><td class="eq-no">(13)</td></tr></table>
<!--l. 433--><p class="indent" >   This transform is orthogonal. However, as <span class="cite">[<a 
href="#Xmalvar2008lifting">1</a>]</span> points it has to disadvantages:
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-8005x1">The gains of the channels are diﬀerent (2, 3 and 8/3).
     </li>
     <li 
  class="enumerate" id="x1-8007x2">From a perceptual perspective, the inﬂuence of the green channel on the
     luma channel should be stronger.</li></ol>
<!--l. 440--><p class="noindent" >For these reasons, <span class="cite">[<a 
href="#Xmalvar2008lifting">1</a>]</span> proposes </p><table class="equation"><tr><td> <a 
 id="x1-8008r14"></a>
<!--l. 441--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
 <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >Y</mtext></mstyle>  </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mstyle 
class="text"><mtext  >Co</mtext></mstyle></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >Cg</mtext></mstyle>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                             </mrow></mfenced> <mo 
class="MathClass-rel">=</mo>  <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center">   <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><mn>4</mn></mrow></mfrac>    </mtd><mtd 
class="array"  columnalign="center">  <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><mn>2</mn></mrow></mfrac>  </mtd><mtd 
class="array"  columnalign="center">    <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><mn>4</mn></mrow></mfrac>    </mtd>
</mtr> <mtr><mtd 
class="array"  columnalign="center">    <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><mn>2</mn></mrow></mfrac>    </mtd><mtd 
class="array"  columnalign="center">  <mn>0</mn>  </mtd><mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">−</mo><mfrac><mrow 
><mn>1</mn></mrow>
<mrow 
><mn>2</mn></mrow></mfrac>  </mtd>
</mtr> <mtr><mtd 
class="array"  columnalign="center">  <mo 
class="MathClass-bin">−</mo><mfrac><mrow 
><mn>1</mn></mrow>
<mrow 
><mn>4</mn></mrow></mfrac>  </mtd><mtd 
class="array"  columnalign="center">  <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><mn>2</mn></mrow></mfrac>  </mtd><mtd 
class="array"  columnalign="center">  <mo 
class="MathClass-bin">−</mo><mfrac><mrow 
><mn>1</mn></mrow>
<mrow 
><mn>4</mn></mrow></mfrac>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                                    </mrow></mfenced>  <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >R</mtext></mstyle>  </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mstyle 
class="text"><mtext  >G</mtext></mstyle></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >B</mtext></mstyle>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                               </mrow></mfenced> <mo 
class="MathClass-rel">⇔</mo> <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center"> <mstyle 
class="text"><mtext  >R</mtext></mstyle>  </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mstyle 
class="text"><mtext  >G</mtext></mstyle></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >B</mtext></mstyle>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                               </mrow></mfenced> <mo 
class="MathClass-rel">=</mo>  <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center"> <mn>1</mn> </mtd><mtd 
class="array"  columnalign="center">   <mn>1</mn>   </mtd><mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">−</mo><mn>1</mn> </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mn>1</mn> </mtd> <mtd 
class="array"  columnalign="center"> <mn>0</mn> </mtd> <mtd 
class="array"  columnalign="center"> <mn>1</mn></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center"> <mn>1</mn> </mtd><mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">−</mo><mn>1</mn> </mtd><mtd 
class="array"  columnalign="center"> <mo 
class="MathClass-bin">−</mo><mn>1</mn> </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                  </mrow></mfenced> <mfenced separators="" 
open="["  close="]" ><mrow><mtable  align="axis" style=""  
equalrows="false" columnlines="none none none none none none none none none" equalcolumns="false" class="array"><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >Y</mtext></mstyle>  </mtd></mtr> <mtr><mtd 
class="array"  columnalign="center"> <mstyle 
class="text"><mtext  >Co</mtext></mstyle></mtd>
</mtr><mtr><mtd 
class="array"  columnalign="center">  <mstyle 
class="text"><mtext  >Cg</mtext></mstyle>  </mtd></mtr> <!--*\c@MaxMatrixCols c--></mtable>                                                                                             </mrow></mfenced> <mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">(14)</td></tr></table>
<!--l. 478--><p class="indent" >   that is near orthogonal<span class="footnote-mark"><a 
href="index9.html#fn8x0"><sup class="textsuperscript">8</sup></a></span><a 
 id="x1-8009f8"></a> .
                                                                  

                                                                  
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">1.4.2   </span> <a 
 id="x1-90001.4.2"></a>Quantization</h5>
<!--l. 483--><p class="noindent" >As happens with the RGB/YCrCb transform, the RGB/YCoCg transform is not
orthogonal (see this <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/06-color_transform/performance.ipynb" >notebook</a>). Therefore, again (for simplicity) we will take </p><table class="equation"><tr><td>
<a 
 id="x1-9001r15"></a>
<!--l. 487--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                        <msub><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Y</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-rel">=</mo> <msub><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Co</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-rel">=</mo> <msub><mrow 
><mi 
>Δ</mi></mrow><mrow 
><mstyle 
class="text"><mtext  >Cg</mtext></mstyle></mrow></msub 
><mo 
class="MathClass-punc">.</mo>
</math></td><td class="eq-no">(15)</td></tr></table>
<!--l. 490--><p class="indent" >   However, as it can be seen in the notebook, the RGB/YCoCg transform
concentrates more the energy than the RGB/YCrCb transform.
</p><!--l. 492--><p class="indent" >   and the channels gains are the same. Therefore, the Eq. <a 
href="#x1-6002r12">12<!--tex4ht:ref: eq:simple_Q --></a> stands Eq. <span 
class="ecbx-1000">??</span>. As it
can be also seen in this <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/06-color_transform/performance.ipynb" >notebook</a>w, the YCoCg domain can signiﬁcantly
concentrate the energy of the pixels in the Y channel. This is beneﬁcial
because quantization will remove (completely quantize) “noise” in the chroma
channels.
</p><!--l. 500--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">2   </span> <a 
 id="x1-100002"></a>What you have to do?</h3>
<!--l. 502--><p class="noindent" >
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-10002x1">Please,  run  the  previous  <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/06-color_transform/performance.ipynb" >notebook</a>  to  learn  some  insights  about  the
     problem of the optimal quantization in the color domain.
     </li>
     <li 
  class="enumerate" id="x1-10004x2">Include  in  the  previous  <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/06-color_transform/performance.ipynb" >notebook</a>  an  implementation  of  the  <a 
href="https://en.wikipedia.org/wiki/JPEG_2000#Color_components_transformation" >RCT
     (Reversible Color Transform)</a> and compare it’s RD performance with the
     other transforms.
     </li>
     <li 
  class="enumerate" id="x1-10006x3">Implement the transform described in Eq. <a 
href="#x1-8003r13">13<!--tex4ht:ref: eq:optimal --></a>, and compare it with the
     other transforms.</li></ol>
                                                                  

                                                                  
<!--l. 517--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">3   </span> <a 
 id="x1-110003"></a>Timming</h3>
<!--l. 519--><p class="noindent" >Please, ﬁnish this notebook before the next class session.
</p><!--l. 521--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">4   </span> <a 
 id="x1-120004"></a>Deliverables</h3>
<!--l. 523--><p class="noindent" >None.
</p><!--l. 525--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">5   </span> <a 
 id="x1-130005"></a>Resources</h3>
   <div class="thebibliography">
   <p class="bibitem" ><span class="biblabel">
 [1]<span class="bibsp">   </span></span><a 
 id="Xmalvar2008lifting"></a>H.S. Malvar, G.J. Sullivan, and S. Srinivasan.  <a 
href="https://www.microsoft.com/en-us/research/wp-content/uploads/2016/02/2008_ColorTransforms_MalvarSullivanSrinivasan.pdf" >Lifting-based reversible
   color  transformations  for  image  compression</a>.   In  <span 
class="ecti-1000">Applications of Digital</span>
   <span 
class="ecti-1000">Image  Processing  XXXI</span>,  volume  7073,  pages  707307–1  –  707307–10.
   International Society for Optics and Photonics, 2008.
   </p>
   <p class="bibitem" ><span class="biblabel">
 [2]<span class="bibsp">   </span></span><a 
 id="Xsayood2017introduction"></a>K. Sayood. <a 
href="http://rahilshaikh.weebly.com/uploads/1/1/6/3/11635894/data_compression.pdf" ><span 
class="ecti-1000">Introduction to data compression</span></a>. Morgan Kaufmann, 2017.
   </p>
   <p class="bibitem" ><span class="biblabel">
 [3]<span class="bibsp">   </span></span><a 
 id="Xstrang4linear"></a>G. Strang. <a 
href="https://ia802906.us.archive.org/18/items/StrangG.LinearAlgebraAndItsApplications45881001/%5BStrang_G.%5D_Linear_algebra_and_its_applications%284%29%5B5881001%5D.pdf" ><span 
class="ecti-1000">Linear Algebra and Its Applications</span></a>. Belmont, CA: Thomson,
   Brooks/Cole, 2006.
</p>
   </div>
<a 
 id="Q1-1-14"></a>
    
</body> 
</html>
                                                                  


