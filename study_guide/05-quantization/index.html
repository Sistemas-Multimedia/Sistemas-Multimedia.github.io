<!DOCTYPE html> 
<html> 
<head> <title>Sistemas Multimedia - Study Guide - Milestone 5: Quantizing in the RGB
Domain</title> 
<meta charset="UTF-8" /> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<link rel="stylesheet" type="text/css" href="index.css" /> 
<script type="text/javascript" 
src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" 
></script> 
<style type="text/css"> 
.MathJax_MathML {text-indent: 0;} 
</style> 
</head><body 
>
   <div class="maketitle">
                                                                  

                                                                  
                                                                  

                                                                  

<h2 class="titleHead"><a 
href="http://cms.ual.es/UAL/estudios/masteres/plandeestudios/asignaturas/asignatura/MASTER7114?idAss=71142105&idTit=7114" >Sistemas Multimedia</a> - Study Guide - Milestone
5: Quantizing in the RGB Domain</h2>
 <div class="author" ><a 
href="https://cms.ual.es/UAL/personas/persona.htm?id=515256515553484875" ><span 
class="ecrm-1200">Vicente Gonz</span><span 
class="ecrm-1200">á</span><span 
class="ecrm-1200">lez Ruiz</span></a> <span 
class="ecrm-1200">- </span><a 
href="https://cms.ual.es/UAL/universidad/departamentos/informatica/index.htm" ><span 
class="ecrm-1200">Depto Inform</span><span 
class="ecrm-1200">á</span><span 
class="ecrm-1200">tica</span></a> <span 
class="ecrm-1200">- </span><a 
href="https://www.ual.es" ><span 
class="ecrm-1200">UAL</span></a></div><br />
<div class="date" ><span 
class="ecrm-1200">January 7, 2021</span></div>
   </div>
   <h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-10001"></a>Description</h3>
<!--l. 7--><p class="noindent" >The <a 
href="https://en.wikipedia.org/wiki/Visual_system" >humans</a> are quite eﬃcient recognizing the information stored in images (and
frames of a video), even when this information has been degraded or (partially) lost.
<a 
href="https://en.wikipedia.org/wiki/Quantization_(signal_processing)" >Quantization</a> <span class="cite">[<a 
href="#Xsayood2017introduction">1</a>, <a 
href="#Xvetterli2014foundations">2</a>]</span> is a technique that can remove the part of the visual information
that is less relevant for us. Notice, however, that quantization implies <a 
href="https://en.wikipedia.org/wiki/Lossy_compression" >lossy
coding</a>.
</p><!--l. 16--><p class="indent" >   In this milestone we are going to quantize a frame in the <a 
href="https://en.wikipedia.org/wiki/RGB_color_model" >RGB color domain</a>. A <a 
href="https://en.wikipedia.org/wiki/Quantization_(signal_processing)" >quantizer</a> (typically
denoted by <!--l. 19--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>Q</mi></math>)
is a <a 
href="https://en.wikipedia.org/wiki/Data_compression" >encoding system</a> that inputs a sequence of (digital) samples
<!--l. 21--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>x</mi></math> and output a sequence
of quantization indexes <!--l. 22--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>k</mi></math>
(see the Fig. <a 
href="#x1-1002r1">1<!--tex4ht:ref: fig:Q --></a>). The inverse system, called a dequantizer (and denoted by
<!--l. 23--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msup><mrow 
><mi 
>Q</mi></mrow><mrow 
><mo 
class="MathClass-bin">−</mo><mn>1</mn></mrow></msup 
></math>),
recover an approximate version (depending on the quantization step
<!--l. 25--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>Δ</mi></math>) of
<!--l. 25--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>x</mi></math> that we will
denote as <!--l. 25--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mover 
accent="true"><mrow 
><mi 
>x</mi></mrow><mo accent="true">̃</mo></mover></math>. Notice
that although <!--l. 26--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>Δ</mi></math>
is an input parameter to the quantizer, it has not been considered in the ﬁgure to
keep it simpler. We deﬁne the quantization error </p><table class="equation"><tr><td> <a 
 id="x1-1001r1"></a>
                                                                  

                                                                  
<!--l. 29--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                           <msub><mrow 
><mi 
>e</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
> <mo 
class="MathClass-rel">=</mo> <msub><mrow 
><mi 
>x</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
> <mo 
class="MathClass-bin">−</mo><msub><mrow 
><mover 
accent="true"><mrow 
><mi 
>x</mi></mrow><mo accent="true">̃</mo></mover></mrow><mrow 
><mi 
>i</mi></mrow></msub 
><mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">(1)</td></tr></table>
<!--l. 32--><p class="indent" >   that obviously, should be minimized.
</p>
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
<a 
 id="x1-1002r1"></a>
                                                                  

                                                                  
<!--l. 36--><p class="noindent" ><div style="text-align:center;"> <img width=200 src="graphics/Q.svg" /> </div> 
<a 
 id="x1-1003"></a>
<br /> </p><div class="caption" 
><span class="id">Figure 1: </span><span  
class="content">Scalar quantization and dequantization of a signal.</span></div><!--tex4ht:label?: x1-1002r1 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
<!--l. 41--><p class="indent" >   Quantizers can be classiﬁes into:
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-1005x1"><span 
class="ecbx-1000">Scalar quantizers</span>: those that produce a quantization index <!--l. 44--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>k</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
></math>
     by each input sample <!--l. 44--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>x</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
></math>.
     </li>
     <li 
  class="enumerate" id="x1-1007x2"><span 
class="ecbx-1000">Vector quantizers</span>: that process the input by blocks of samples, called
     vectors,  producing  quantization  index  by  vector.  Vector  Quantization
     (VQ)  can  remove  spatial  correlation  and  therefore,  are  more  eﬃcient
     that Scalar Quantization (SQ). On the other hand, the computational
     requirements of VQ are, by far, higher than the needed for SQ. If we also
     consider that there are other techniques (such as transform coding) that
     are able to decorrelate the samples with less computation than VQ. For
     this reason, SQ has been selected, for example, in most video codecs.</li></ol>
<!--l. 56--><p class="indent" >   Quantizers, also, can be classiﬁed as:
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-1009x1"><span 
class="ecbx-1000">Uniform quantizers</span>: those in which <!--l. 58--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>Δ</mi></math>
     is idependent on the amplitude of the samples.
     </li>
     <li 
  class="enumerate" id="x1-1011x2"><span 
class="ecbx-1000">Non-unifom quantizers</span>, on the contrary, when <!--l. 60--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>Δ</mi></math>
     depends (directly or indirectly) on the samples.</li></ol>
<!--l. 64--><p class="indent" >   Non-uniform quantizers can be:
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-1013x1"><span 
class="ecbx-1000">Static quantizers</span>: if <!--l. 66--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>Δ</mi></math>
     depends  on  the  amplitude  of  the  samples  (as  happens  for  example  in
     compended quantizers), but this dependency is pre-computed.
     </li>
     <li 
  class="enumerate" id="x1-1015x2"><span 
class="ecbx-1000">Adaptive quantizers</span>: when <!--l. 69--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>Δ</mi></math>
     is adapted to minimize the quantization error, depending on the “on-the-ﬂy”
     characteristics of the signal.</li></ol>
<!--l. 74--><p class="indent" >   All uantizers can be classiﬁed into:
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-1017x1"><span 
class="ecbx-1000">Mid-tread quantizers</span>, if <!--l. 76--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mover 
accent="true"><mrow 
><mi 
>x</mi></mrow><mo accent="true">̃</mo></mover></mrow><mrow 
><mi 
>i</mi></mrow></msub 
></math>
     can be <!--l. 76--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>0</mn></math>.
     </li>
     <li 
  class="enumerate" id="x1-1019x2"><span 
class="ecbx-1000">Mid-rised quantizers</span>, if <!--l. 77--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mover 
accent="true"><mrow 
><mi 
>x</mi></mrow><mo accent="true">̃</mo></mover></mrow><mrow 
><mi 
>i</mi></mrow></msub 
></math>
     cannot be <!--l. 77--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>0</mn></math>.</li></ol>
<!--l. 80--><p class="indent" >   Finally, quantizers can be classiﬁed as:
                                                                  

                                                                  
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-1021x1"><span 
class="ecbx-1000">Dead-zone quantizers</span>, that are characterized by a quantization step of
     length <!--l. 83--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>2</mn><mi 
>Δ</mi></math>
     for <!--l. 83--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>x</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
> <mo 
class="MathClass-rel">=</mo> <mn>0</mn></math>.
     Deadzone quantizers tends to remove the electronic noise (that usually has
     an small amplitude compared to the input signal <!--l. 85--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>x</mi></math>).
     Notice that dead-zone quantizers should not be consdered uniform, and
     that all dead-zone quantizers, by deﬁnition, are mid-tread.
     </li>
     <li 
  class="enumerate" id="x1-1023x2"><span 
class="ecbx-1000">No dead-zone quantizers</span>, when the dead-zone does not exist.</li></ol>
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
<a 
 id="x1-1024r2"></a>
                                                                  

                                                                  
<!--l. 94--><p class="noindent" ><div style="text-align:center;"> <img width=500 src="iomap_mr.svg" /> </div> 
<a 
 id="x1-1025"></a>
<br />   </p><div class="caption" 
><span class="id">Figure 2:    </span><span  
class="content">Input/output    map    of    a    mid-riser    quantizer    with
<!--l. 95--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>Δ</mi> <mo 
class="MathClass-rel">=</mo> <mn>2</mn></math>.</span></div><!--tex4ht:label?: x1-1024r1 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
<a 
 id="x1-1026r3"></a>
                                                                  

                                                                  
<!--l. 101--><p class="noindent" ><div style="text-align:center;"> <img width=500 src="qe_mr.svg" /> </div> 
<a 
 id="x1-1027"></a>
<br />   </p><div class="caption" 
><span class="id">Figure 3:    </span><span  
class="content">Quantization    error    of    a    mid-riser    quantizer    with
<!--l. 102--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>Δ</mi> <mo 
class="MathClass-rel">=</mo> <mn>2</mn></math>.</span></div><!--tex4ht:label?: x1-1026r1 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
<a 
 id="x1-1028r4"></a>
                                                                  

                                                                  
<!--l. 108--><p class="noindent" ><div style="text-align:center;"> <img width=500 src="iomap_mt.svg" /> </div> 
<a 
 id="x1-1029"></a>
<br />   </p><div class="caption" 
><span class="id">Figure 4:    </span><span  
class="content">Input/output    map    of    a    mid-tread    quantizer    with
<!--l. 109--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>Δ</mi> <mo 
class="MathClass-rel">=</mo> <mn>2</mn></math>.</span></div><!--tex4ht:label?: x1-1028r1 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
<a 
 id="x1-1030r5"></a>
                                                                  

                                                                  
<!--l. 115--><p class="noindent" ><div style="text-align:center;"> <img width=500 src="qe_mt.svg" /> </div> 
<a 
 id="x1-1031"></a>
<br />   </p><div class="caption" 
><span class="id">Figure 5:    </span><span  
class="content">Quantization    error    of    a    mid-tread    quantizer    with
<!--l. 116--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>Δ</mi> <mo 
class="MathClass-rel">=</mo> <mn>2</mn></math>.</span></div><!--tex4ht:label?: x1-1030r1 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
<a 
 id="x1-1032r6"></a>
                                                                  

                                                                  
<!--l. 122--><p class="noindent" ><div style="text-align:center;"> <img width=500 src="iomap_dz.svg" /> </div> 
<a 
 id="x1-1033"></a>
<br />   </p><div class="caption" 
><span class="id">Figure 6:    </span><span  
class="content">Input/output    map    of    a    dead-zone    quantizer    with
<!--l. 123--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>Δ</mi> <mo 
class="MathClass-rel">=</mo> <mn>2</mn></math>.</span></div><!--tex4ht:label?: x1-1032r1 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
<a 
 id="x1-1034r7"></a>
                                                                  

                                                                  
<!--l. 129--><p class="noindent" ><div style="text-align:center;"> <img width=500 src="qe_dz.svg" /> </div> 
<a 
 id="x1-1035"></a>
<br />   </p><div class="caption" 
><span class="id">Figure 7:    </span><span  
class="content">Quantization    error    of    a    dead-zone    quantizer    with
<!--l. 130--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>Δ</mi> <mo 
class="MathClass-rel">=</mo> <mn>2</mn></math>.</span></div><!--tex4ht:label?: x1-1034r1 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
<!--l. 134--><p class="indent" >   Figs. <a 
href="#x1-1024r2">2<!--tex4ht:ref: fig:iomap_mr --></a>, <a 
href="#x1-1026r3">3<!--tex4ht:ref: fig:qe_mr --></a>, <a 
href="#x1-1028r4">4<!--tex4ht:ref: fig:iomap_mt --></a>, <a 
href="#x1-1030r5">5<!--tex4ht:ref: fig:qe_mt --></a>, <a 
href="#x1-1032r6">6<!--tex4ht:ref: fig:iomap_dz --></a>, and <a 
href="#x1-1034r7">7<!--tex4ht:ref: fig:qe_dz --></a> describe the behaviour of 3 diﬀerent quantizers. Use this
<a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/05-quantization/digital_quantization.ipynb" >notebook</a> to gain more insights about quantization.
</p>
   <h3 class="sectionHead"><span class="titlemark">2   </span> <a 
 id="x1-20002"></a>What you have to do?</h3>
<!--l. 142--><p class="noindent" >Please, modify the <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/05-quantization/quantize_a_frame.ipynb" >notebook</a> in order to use the <a 
href="https://docs.opencv.org/master/d4/da8/group__imgcodecs.html" >TIFF and JPEG 2000 image formats</a>
instead of PNG. Compare the RD curves.
</p><!--l. 148--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">3   </span> <a 
 id="x1-30003"></a>Timming</h3>
<!--l. 150--><p class="noindent" >Please, ﬁnish this notebook before the next class session.
</p><!--l. 152--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">4   </span> <a 
 id="x1-40004"></a>Deliverables</h3>
<!--l. 154--><p class="noindent" >None.
</p><!--l. 156--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">5   </span> <a 
 id="x1-50005"></a>Resources</h3>
   <div class="thebibliography">
   <p class="bibitem" ><span class="biblabel">
 [1]<span class="bibsp">   </span></span><a 
 id="Xsayood2017introduction"></a>K. Sayood. <a 
href="http://rahilshaikh.weebly.com/uploads/1/1/6/3/11635894/data_compression.pdf" ><span 
class="ecti-1000">Introduction to data compression</span></a>. Morgan Kaufmann, 2017.
   </p>
   <p class="bibitem" ><span class="biblabel">
 [2]<span class="bibsp">   </span></span><a 
 id="Xvetterli2014foundations"></a>M. Vetterli, J. Kovačević, and V.K. Goyal.  <a 
href="http://www.fourierandwavelets.org/FSP_v1.1_2014.pdf" ><span 
class="ecti-1000">Foundations of Signal</span>
   <span 
class="ecti-1000">Processing</span></a>. Cambridge University Press, 2014.
</p>
   </div>
<a 
 id="Q1-1-6"></a>
    
</body> 
</html>
                                                                  


