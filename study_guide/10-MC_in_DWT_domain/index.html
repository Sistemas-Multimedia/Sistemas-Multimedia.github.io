<?xml version="1.0" encoding="iso-8859-1" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" 
"http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd" > 
<html xmlns="http://www.w3.org/1999/xhtml"  
> 
<head><title>Sistemas Multimedia - Study Guide - Milestone 10: Motion Compensation in the
DWT Domain</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<!-- xhtml,mathml,html --> 
<meta name="src" content="index.tex" /> 
<link rel="stylesheet" type="text/css" href="index.css" /> 
</head><body 
>
   <div class="maketitle">
                                                                  

                                                                  
                                                                  

                                                                  

<h2 class="titleHead"><a 
href="http://cms.ual.es/UAL/estudios/masteres/plandeestudios/asignaturas/asignatura/MASTER7114?idAss=71142105&idTit=7114" >Sistemas Multimedia</a> - Study Guide - Milestone
10: Motion Compensation in the DWT Domain</h2>
 <div class="author" ><a 
href="https://cms.ual.es/UAL/personas/persona.htm?id=515256515553484875" ><span 
class="ecrm-1200">Vicente Gonz</span><span 
class="ecrm-1200">&#x00E1;</span><span 
class="ecrm-1200">lez Ruiz</span></a> <span 
class="ecrm-1200">- </span><a 
href="https://cms.ual.es/UAL/universidad/departamentos/informatica/index.htm" ><span 
class="ecrm-1200">Depto Inform</span><span 
class="ecrm-1200">&#x00E1;</span><span 
class="ecrm-1200">tica</span></a> <span 
class="ecrm-1200">- </span><a 
href="https://www.ual.es" ><span 
class="ecrm-1200">UAL</span></a></div><br />
<div class="date" ><span 
class="ecrm-1200">January 19, 2021</span></div>
   </div>
   <h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-10001"></a>Description</h3>
<!--l. 8--><p class="noindent" >In this milestone we will discuss the characteristics of the motion estimation
and compensation of frames &#x0028;considering only one component&#x0029; in the DWT
domain.
</p><!--l. 12--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.1   </span> <a 
 id="x1-20001.1"></a>Removing the temporal redundancy through Motion Compensation
&#x0028;MC&#x0029;</h4>
<!--l. 13--><p class="noindent" >The next natural step in the process of decorrelating the sequence of frames is to
remove the temporal redundancy by means of Motion Compensation &#x0028;MC&#x0029;.
Basically, MC consists in substracting to the video data a prediction performed
with the information that is avaliable to the decoder. If this prediction is
accurate, the result of this operation is a residual video with a lower temporal
redundancy, that can be compressed with a higher compression ratio because there
is less information to encode in the residue sequence than in the original
one.
</p><!--l. 23--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.2   </span> <a 
 id="x1-30001.2"></a>Integer pixel accuracy In-Band Motion Estimation and Compensation</h4>
                                                                  

                                                                  
<!--l. 24--><p class="noindent" >At this stage of the encoding process, the video data is represented in the DWT
domain, and therefore, we need to perform a In-Band Motion estimation and
Compensation &#x0028;IBMC&#x0029;&#x00A0;<span class="cite">&#x005B;<a 
href="#Xandreopoulos2005complete">1</a>&#x005D;</span>&#x0029;. Let&#x2019;s suppose that the number of levels of the DWT is
1, and therefore, each frame has been decomposed into two 2D subbands
<!--l. 29--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi></math> and
<!--l. 29--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>H</mi></math>
&#x0028;remember that using the notation introduces in the previous milestone,
<!--l. 30--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>H</mi></math> has inside the three
high-frequency subbands: <!--l. 31--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi><mi 
>H</mi></math>,
<!--l. 31--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>H</mi><mi 
>L</mi></math> and
<!--l. 31--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>H</mi><mi 
>H</mi></math>, and
that <!--l. 32--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi> <mo 
class="MathClass-rel">=</mo> <mi 
>L</mi><mi 
>L</mi></math>&#x0029;.
This discussion will be also constrained to the case in which the movement of the
objects in the scene is a integer number of pixels.
</p><!--l. 36--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.3   </span> <a 
 id="x1-40001.3"></a>The lack of shift-invariance in the DWT domain</h4>
<!--l. 37--><p class="noindent" >Unfortunately, DWT decompositions are shift-variant as a consequence of the
downsampling performed during the DWT to achieve a critical representation. This
can be seen in the Fig.&#x00A0;<a 
href="#x1-4001r1">1<!--tex4ht:ref: fig:dwt_shift_variance --></a> were some DWT coe&#xFB03;cients of a test video with three test
frames has been shown. As it can be seen, when the circle moves to the left only one
pixel &#x0028;as happens in the frames 0 and 1&#x0029;, the value of the coe&#xFB03;cients that correspond
to the circunference of the circle are di&#xFB00;erent between the reference frame &#x0028;0&#x0029; and the
predicted frame &#x0028;1&#x0029;. This makes quite di&#xFB03;cult to estimate and compensate the
motion between frames. Notice also that the e&#xFB00;ects of shift-variance is also visible
after using the inverse transform when the coe&#xFB03;cients are &#xFB01;ltered or quantized,
because the aliasing between the &#xFB01;lters is not completely cancelled in this
case&#x00A0;<span class="cite">&#x005B;<a 
href="#Xbradley2003shift">2</a>&#x005D;</span>.
</p>
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
<a 
 id="x1-4001r1"></a>
                                                                  

                                                                  
<div class="tabular"> <table id="TBL-2" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-2-1g"><col 
id="TBL-2-1" /><col 
id="TBL-2-2" /><col 
id="TBL-2-3" /></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-2-1-"><td  style="text-align:center; white-space:nowrap;" id="TBL-2-1-1"  
class="td11"> <!--l. 55--><p class="noindent" ><div style="text-align:center;"> <img width=300 src="frame_0_Y.png" /> </div>                                                                    </p></td><td  style="text-align:center; white-space:nowrap;" id="TBL-2-1-2"  
class="td11"> <!--l. 55--><p class="noindent" ><div style="text-align:center;"> <img width=300 src="frame_1_Y.png" /> </div>                                                                    </p></td><td  style="text-align:center; white-space:nowrap;" id="TBL-2-1-3"  
class="td11"> <!--l. 55--><p class="noindent" ><div style="text-align:center;"> <img width=300 src="frame_2_Y.png" /> </div>                                                                    </p></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-2-"><td  style="text-align:center; white-space:nowrap;" id="TBL-2-2-1"  
class="td11"> </td><td  style="text-align:center; white-space:nowrap;" id="TBL-2-2-2"  
class="td11"> <!--l. 56--><p class="noindent" ><div style="text-align:center;"> <img width=300 src="movement_0.svg" /> </div>  </p> </td><td  style="text-align:center; white-space:nowrap;" id="TBL-2-2-3"  
class="td11"> <!--l. 56--><p class="noindent" ><div style="text-align:center;"> <img width=300 src="movement_1.svg" /> </div> </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-3-"><td  style="text-align:center; white-space:nowrap;" id="TBL-2-3-1"  
class="td11">                                                                     </td><td  style="text-align:center; white-space:nowrap;" id="TBL-2-3-2"  
class="td11"> <!--l. 57--><p class="noindent" ><div style="text-align:center;"> <img width=300 src="haar_LL_0.svg" /> </div>                                                                    </p></td><td  style="text-align:center; white-space:nowrap;" id="TBL-2-3-3"  
class="td11"> <!--l. 57--><p class="noindent" ><div style="text-align:center;"> <img width=300 src="haar_LL_1.svg" /> </div>                                                                    </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-4-"><td  style="text-align:center; white-space:nowrap;" id="TBL-2-4-1"  
class="td11">                                                                     </td><td  style="text-align:center; white-space:nowrap;" id="TBL-2-4-2"  
class="td11"> <!--l. 58--><p class="noindent" ><div style="text-align:center;"> <img width=300 src="haar_LH_0.svg" /> </div>                                                                    </p></td><td  style="text-align:center; white-space:nowrap;" id="TBL-2-4-3"  
class="td11"> <!--l. 58--><p class="noindent" ><div style="text-align:center;"> <img width=300 src="haar_LH_1.svg" /> </div>                                                                    </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-5-"><td  style="text-align:center; white-space:nowrap;" id="TBL-2-5-1"  
class="td11">                                                                     </td><td  style="text-align:center; white-space:nowrap;" id="TBL-2-5-2"  
class="td11"> <!--l. 59--><p class="noindent" ><div style="text-align:center;"> <img width=300 src="haar_HL_0.svg" /> </div>                                                                    </p></td><td  style="text-align:center; white-space:nowrap;" id="TBL-2-5-3"  
class="td11"> <!--l. 59--><p class="noindent" ><div style="text-align:center;"> <img width=300 src="haar_HL_1.svg" /> </div>                                                                    </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-6-"><td  style="text-align:center; white-space:nowrap;" id="TBL-2-6-1"  
class="td11">                                                                     </td><td  style="text-align:center; white-space:nowrap;" id="TBL-2-6-2"  
class="td11"> <!--l. 60--><p class="noindent" ><div style="text-align:center;"> <img width=300 src="haar_HH_0.svg" /> </div>                                                                    </p></td><td  style="text-align:center; white-space:nowrap;" id="TBL-2-6-3"  
class="td11"> <!--l. 60--><p class="noindent" ><div style="text-align:center;"> <img width=300 src="haar_HH_1.svg" /> </div>                                                                    </p></td></tr></table>
</div>
<a 
 id="x1-4002"></a>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;1: </span><span  
class="content">A demonstration of the shift-variance of the DWT. Similar results
have been obtained for other &#xFB01;lters. See this <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/10-MC_in_DWT_domain/DWT_shift_variance.ipynb" >notebook</a>.</span></div><!--tex4ht:label?: x1-4001r1 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
<!--l. 68--><p class="indent" >   However, suprisingly, at it can be also seen in the Fig.&#x00A0;<a 
href="#x1-4001r1">1<!--tex4ht:ref: fig:dwt_shift_variance --></a>, when the circle has
traveled two pixels &#x0028;frames 0 and 2&#x0029;, a perfect match is achieved! The reason why the
1-pixel motion generates di&#xFB00;erent coe&#xFB03;cients in the reference and the predicted
frames, and the same coe&#xFB03;cients for a 2-pixel motion is because, in the &#xFB01;rst case the
right coe&#xFB03;cients were discarded by the downsamplers, and in the second case
not.
</p><!--l. 77--><p class="indent" >   Usually, we call phases to the two possible coe&#xFB03;cients resulting from one &#x0028;1D&#x0029; &#xFB01;lter
to be subsampled, being the even phase, the even coe&#xFB03;cients, and the odd phase, the
odd coe&#xFB03;cients. Therefore, when the motion is of type &#x201C;even&#x201D; &#x0028;when we have a
<!--l. 80--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>2</mn><mi 
>N</mi></math>-pixels motion&#x0029;,
we should use the even phase to compensate the frames, and viceversa &#x0028;use the odd phase to
compensate a <!--l. 82--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>2</mn><mi 
>N</mi> <mo 
class="MathClass-bin">+</mo> <mn>1</mn></math>-pixels
motion&#x0029;. Notice that in the 2D case, and always working with only one level of the
DWT, we have up to four di&#xFB00;erent phases: &#x0028;even, even&#x0029;-, &#x0028;even, odd&#x0029;-, &#x0028;odd, even&#x0029;-,
and &#x0028;odd, odd&#x0029;-phase coe&#xFB03;cients. Thus, depending on the type of motion detected,
the corresponding phase should be selected.
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.4   </span> <a 
 id="x1-50001.4"></a>Recovering the lost phases</h4>
<!--l. 89--><p class="noindent" >There are di&#xFB00;erent alternatives for regenerating the phases discarded by the
subsamplers of the DWT. This is equivalent to compute the Overcomplete DWT
&#x0028;ODWT&#x0029;&#x00A0;<span class="cite">&#x005B;<a 
href="#Xmallat1999wavelet">5</a>&#x005D;</span>.
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-5002x1">Use the Algorithme &#x00E0; Trous&#x00A0;<span class="cite">&#x005B;<a 
href="#Xmallat1999wavelet">5</a>&#x005D;</span>, which basically consists in removing
     the downsamplers, avoiding thus the aliasing artifacts generated by the
     noncompliance with the sampling theorem. See this <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/10-MC_in_DWT_domain/regenerating.ipynb" >notebook</a>.
     </li>
     <li 
  class="enumerate" id="x1-5004x2">Considering the previous experiments, it&#x2019;s easy to see that if we shift the
     signal one sample and perform the DWT, we get the &#x201C;lost&#x201D; phase. This
     method has been used to perform e&#xFB03;cient MC in the DWT domain&#x00A0;<span class="cite">&#x005B;<a 
href="#Xpark2000motion">6</a>,&#x00A0;<a 
href="#Xli2001all">4</a>&#x005D;</span>.
     </li>
     <li 
  class="enumerate" id="x1-5006x3">Apply               some               transform               &#x0028;such               as
     for example, the CODWT &#x0028;Complete-to-Overcomplete DWT&#x0029;&#x00A0;<span class="cite">&#x005B;<a 
href="#Xandreopoulos2005complete">1</a>&#x005D;</span>&#x0029; to the
     DWT to reconstruct the ODWT.</li></ol>
<!--l. 107--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.5   </span> <a 
 id="x1-60001.5"></a>About using the lost phases in IBMC</h4>
                                                                  

                                                                  
<!--l. 108--><p class="noindent" >Up to date, all the video codecs that use critically sampled IBMC also use <a 
href="https://vicente-gonzalez-ruiz.github.io/video_compression/" >block-based
motion compensation</a>. This technique divides the frames into non-overlaping blocks and
computes a motion vector for every block, that provides a projection &#x0028;a prediction&#x0029;
<!--l. 113--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mover 
accent="true"><mrow 
><mi 
>P</mi></mrow><mo accent="true">&#x0302;</mo></mover></math> of the reference
frame <!--l. 114--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>R</mi></math>
that must be as close as possible to the predicted frame
<!--l. 115--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>P</mi></math>.
These blocks usually have a size of 16x16 pixel.
</p><!--l. 117--><p class="indent" >   The use of blocks imples that:
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-6002x1">If <!--l. 119--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>N</mi></math>
     is the number of pixels in a frame, <!--l. 119--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>N</mi><mo 
class="MathClass-bin">&#x2215;</mo><mn>2</mn><mn>5</mn><mn>6</mn></math>
     is the number of motion vectors. Therefore, if the motion vectors &#xFB01;eld
     has to be sent to the decoder, the data overhead is small &#x0028;although this
     depends on the length of the representation of the texture&#x0029;.
     </li>
     <li 
  class="enumerate" id="x1-6004x2">All the coe&#xFB03;cients that correspond to the same block has the same phase.
     Thus, if the phase also has to be sent to the decoder, again, the data
     overhead can be considered small.</li></ol>
<!--l. 128--><p class="indent" >   Unfortunately, there is a problem with mixing the phases. To reconstruct the
border pixels of the blocks, the adjacent &#x0028;same phase&#x0029; coe&#xFB03;cients must be also used
by the decoder &#x0028;see this <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/10-MC_in_DWT_domain/mixing_phases.ipynb" >notebook</a>&#x0029;. For this reason, the size of the blocks a&#xFB00;ects
to the compression ratio &#x0028;the smaller the blocks, the higher the number
of adajacent coe&#xFB03;cients, and therefore, the lower the compression ratio&#x0029;.
We can think about that this e&#xFB00;ect can be mitigated using larger block
sizes, but this will also a&#xFB00;ect to the compression ratio because the quality of
the predictions worsen with the increment of the size of the blocks. This
supposes an optimization problem that it&#x2019;s hard to solve, especially in real-time
applications.
</p><!--l. 141--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.6   </span> <a 
 id="x1-70001.6"></a>Critically Sampled &#x0028;CS&#x0029; Laplacian Pyramid Transform &#x0028;LPT&#x0029;</h4>
<!--l. 142--><p class="noindent" >Alternatively, we can estimate and componsensate the motion in an alternative
representation of the DWT decomposition that we have called CS-LPT. The
Laplacian Pyramid was proposed by Burt and Adelson&#x00A0;<span class="cite">&#x005B;<a 
href="#Xburt1987laplacian">3</a>&#x005D;</span> and has been
used for the design of spatially-scalable image and video codecs, such as
SHVC&#x00A0;<span class="cite">&#x005B;<a 
href="#Xsullivan2012overview">7</a>&#x005D;</span>.
</p><!--l. 149--><p class="indent" >   The LP is a frame expansion that generates an expanded &#x0028;not critical&#x0029;
octave-band decomposition, and in some way, it can be considered one of the
precursors of the dyadic DWT. Unlike in the DWT, such expansion is consequence of
that the &#xFB01;lters used for creating the LP levels are not orthogonal and therefore, they
do not cancel the aliasing between them &#x0028;see this <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/10-MC_in_DWT_domain/critical_LP.ipynb" >notebook</a>&#x0029;. On the other hand, the
                                                                  

                                                                  
redundancy in the LP tends to 2 with the number of levels, which a&#xFB00;ects negatively
to the compression ratio. An adventage of this is that the LP is shift-invariant &#x0028;see
this <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/10-MC_in_DWT_domain/shift_invariance_in_LP.ipynb" >notebook</a>&#x0029;.
</p><!--l. 161--><p class="indent" >   CS-LPT is a special case of the LP where the &#xFB01;lters are &#x0028;bi&#x0029;orthogonal
DWT &#xFB01;lters &#x0028;in this case, we say that the LP is a tight frame&#x0029;. The
1-levels CS-LPT &#x0028;that has two levels in its pyramid&#x0029; of the frame
<!--l. 164--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>X</mi></math>
de&#xFB01;ned by </p><table class="equation"><tr><td> <a 
 id="x1-7001r1"></a>
<!--l. 165--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
     <mrow ><mo 
class="MathClass-open">&#x007B;</mo><mrow><mi 
>L</mi><mo 
class="MathClass-punc">,</mo><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>H</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></mrow><mo 
class="MathClass-close">&#x007D;</mo></mrow> <mo 
class="MathClass-rel">=</mo> <mrow ><mo 
class="MathClass-open">&#x007B;</mo><mrow><mi 
>L</mi><mi 
>L</mi><mo 
class="MathClass-punc">,</mo><msup><mrow 
><mstyle 
class="text"><mtext  >DWT</mtext></mstyle></mrow><mrow 
><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn></mrow></msup 
><mrow ><mo 
class="MathClass-open">&#x0028;</mo><mrow><mn>0</mn><mo 
class="MathClass-punc">,</mo><mi 
>L</mi><mi 
>H</mi><mo 
class="MathClass-punc">,</mo><mi 
>H</mi><mi 
>L</mi><mo 
class="MathClass-punc">,</mo><mi 
>H</mi><mi 
>H</mi></mrow><mo 
class="MathClass-close">&#x0029;</mo></mrow></mrow><mo 
class="MathClass-close">&#x007D;</mo></mrow> <mo 
class="MathClass-rel">=</mo> <mrow ><mo 
class="MathClass-open">&#x007B;</mo><mrow><mi 
>L</mi><mi 
>L</mi><mo 
class="MathClass-punc">,</mo><msup><mrow 
><mstyle 
class="text"><mtext  >DWT</mtext></mstyle></mrow><mrow 
><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn></mrow></msup 
><mrow ><mo 
class="MathClass-open">&#x0028;</mo><mrow><mn>0</mn><mo 
class="MathClass-punc">,</mo><mi 
>H</mi></mrow><mo 
class="MathClass-close">&#x0029;</mo></mrow></mrow><mo 
class="MathClass-close">&#x007D;</mo></mrow><mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">&#x0028;1&#x0029;</td></tr></table>
<!--l. 169--><p class="indent" >   where </p><table class="equation"><tr><td> <a 
 id="x1-7002r2"></a>
<!--l. 170--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                   <mrow ><mo 
class="MathClass-open">&#x007B;</mo><mrow><mi 
>L</mi><mi 
>L</mi><mo 
class="MathClass-punc">,</mo><mi 
>L</mi><mi 
>H</mi><mo 
class="MathClass-punc">,</mo><mi 
>H</mi><mi 
>L</mi><mo 
class="MathClass-punc">,</mo><mi 
>H</mi><mi 
>H</mi></mrow><mo 
class="MathClass-close">&#x007D;</mo></mrow> <mo 
class="MathClass-rel">=</mo> <mstyle 
class="text"><mtext  >DWT</mtext></mstyle><mrow ><mo 
class="MathClass-open">&#x0028;</mo><mrow><mi 
>X</mi></mrow><mo 
class="MathClass-close">&#x0029;</mo></mrow><mo 
class="MathClass-punc">.</mo>
</math></td><td class="eq-no">&#x0028;2&#x0029;</td></tr></table>
<!--l. 175--><p class="indent" >   The <!--l. 175--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>S</mi></math> levels
CS-LPT<!--l. 175--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msup><mrow 
></mrow><mrow 
><mi 
>S</mi></mrow></msup 
></math>
is computed simply by appliying the Eq.&#x00A0;<a 
href="#x1-7001r1">1<!--tex4ht:ref: eq:CS-LPT --></a> to the subband
<!--l. 176--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi></math>,
recursively.
</p><!--l. 178--><p class="indent" >   The CS-LPT is only near shift-invariant as it can be seen in this <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/10-MC_in_DWT_domain/shift_invariance_in_CS-LPT.ipynb" >notebook</a>.
However, it has several advantages:
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-7004x1">The CS-LPT more compact than LP and ODWT.
     </li>
     <li 
  class="enumerate" id="x1-7006x2">The phases do not need to be considered, which simpli&#xFB01;es the ME/MC
     process and enables the use of any DWT &#xFB01;lter.</li></ol>
                                                                  

                                                                  
<!--l. 187--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.7   </span> <a 
 id="x1-80001.7"></a>MC in the CS-LPT domain</h4>
<!--l. 188--><p class="noindent" >It&#x2019;s reasonable to expect that the motion of an object between the frames
<!--l. 189--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>R</mi></math> and
<!--l. 189--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>P</mi></math>
must move their low and the high frecuencies in the same amount
of pixels. With this idea in mind, we estimate the motion in the
<!--l. 191--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>H</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></math>
subband using only the information provided by the low-frequency subband
<!--l. 192--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi></math>. More
concretely, we implement:
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-8002x1">Estimate the motion between the interpolated version of
     <!--l. 195--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>R</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></math> <table class="equation"><tr><td>
     <a 
 id="x1-8003r3"></a>
     <!--l. 196--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                              <mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>P</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow> <mo 
class="MathClass-rel">=</mo><msup><mrow 
> <mstyle 
class="text"><mtext  >DWT</mtext></mstyle></mrow><mrow 
><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn></mrow></msup 
><mrow ><mo 
class="MathClass-open">&#x0028;</mo><mrow><mi 
>P</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi><mo 
class="MathClass-punc">,</mo><mn>0</mn></mrow><mo 
class="MathClass-close">&#x0029;</mo></mrow><mo 
class="MathClass-punc">.</mo>
</math></td><td class="eq-no">&#x0028;3&#x0029;</td></tr></table>
     <!--l. 199--><p class="noindent" >and </p><table class="equation"><tr><td> <a 
 id="x1-8004r4"></a>
     <!--l. 200--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                                    <mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>R</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow> <mo 
class="MathClass-rel">=</mo><msup><mrow 
> <mstyle 
class="text"><mtext  >DWT</mtext></mstyle></mrow><mrow 
><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn></mrow></msup 
><mrow ><mo 
class="MathClass-open">&#x0028;</mo><mrow><mi 
>R</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi><mo 
class="MathClass-punc">,</mo><mn>0</mn></mrow><mo 
class="MathClass-close">&#x0029;</mo></mrow>
</math></td><td class="eq-no">&#x0028;4&#x0029;</td></tr></table>
                                                                  

                                                                  
     <!--l. 203--><p class="noindent" >The output of this step is a motion vectors &#xFB01;eld
     <!--l. 204--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mover class="overset"><mrow 
><mi 
>V</mi> </mrow><mrow 
><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>P</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow> <mo 
class="MathClass-rel">&#x2192;</mo> <mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>R</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></mrow></mover></math>, that describes
     how to project the <!--l. 205--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>P</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></math>
     onto <!--l. 205--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>R</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></math>.
     Notice that <!--l. 206--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mover class="overset"><mrow 
><mi 
>V</mi> </mrow><mrow 
><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>P</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow> <mo 
class="MathClass-rel">&#x2192;</mo> <mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>R</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></mrow></mover></math>
     should also be a good candidate for mapping
     <!--l. 207--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>P</mi></math> onto
     <!--l. 207--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>R</mi></math>.
     Notice also that the number of vectors in
     <!--l. 208--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mover class="overset"><mrow 
><mi 
>V</mi> </mrow><mrow 
><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>P</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow> <mo 
class="MathClass-rel">&#x2192;</mo> <mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>L</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></mrow></mover></math> can be as high as the
     number of pixels in <!--l. 209--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>R</mi></math>
     &#x0028;and <!--l. 209--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>P</mi></math>&#x0029;.
     </p></li>
     <li 
  class="enumerate" id="x1-8006x2">Use <!--l. 211--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mover class="overset"><mrow 
><mi 
>V</mi> </mrow><mrow 
><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>P</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow> <mo 
class="MathClass-rel">&#x2192;</mo> <mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>R</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></mrow></mover></math> and
     <!--l. 211--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>R</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></math> to generate a
     prediction <!--l. 212--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mover 
accent="true"><mrow 
><mi 
>P</mi></mrow><mo accent="true">&#x0302;</mo></mover><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></math>, and
     <!--l. 212--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>R</mi><mo 
class="MathClass-punc">.</mo><mi 
>H</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></math> to generate a
     prediction <!--l. 213--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mover 
accent="true"><mrow 
><mi 
>P</mi></mrow><mo accent="true">&#x0302;</mo></mover><mo 
class="MathClass-punc">.</mo><mi 
>H</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></math>.
     We de&#xFB01;ne the prediction error in the low-frequency subband as <table class="equation"><tr><td> <a 
 id="x1-8007r5"></a>
     <!--l. 215--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                                    <mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>E</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow> <mo 
class="MathClass-rel">=</mo> <mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>P</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow> <mo 
class="MathClass-bin">&#x2212;</mo> <mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mover 
accent="true"><mrow 
><mi 
>P</mi></mrow><mo accent="true">&#x0302;</mo></mover><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow><mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">&#x0028;5&#x0029;</td></tr></table>
     <!--l. 219--><p class="noindent" >and the prediction error in the high-frequency subband as </p><table class="equation"><tr><td> <a 
 id="x1-8008r6"></a>
     <!--l. 221--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                                   <mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>E</mi><mo 
class="MathClass-punc">.</mo><mi 
>H</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow> <mo 
class="MathClass-rel">=</mo> <mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>P</mi><mo 
class="MathClass-punc">.</mo><mi 
>H</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow> <mo 
class="MathClass-bin">&#x2212;</mo> <mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mover 
accent="true"><mrow 
><mi 
>P</mi></mrow><mo accent="true">&#x0302;</mo></mover><mo 
class="MathClass-punc">.</mo><mi 
>H</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow><mo 
class="MathClass-punc">.</mo>
</math></td><td class="eq-no">&#x0028;6&#x0029;</td></tr></table>
                                                                  

                                                                  
     <!--l. 225--><p class="noindent" >Notice that <!--l. 225--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mover class="overset"><mrow 
><mi 
>V</mi> </mrow><mrow 
><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>P</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow> <mo 
class="MathClass-rel">&#x2192;</mo> <mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>R</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></mrow></mover></math>
     depends only on <!--l. 226--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>R</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></math>
     and <!--l. 226--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>P</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></math>,
     not on the high frequency subbands.
     </p></li>
     <li 
  class="enumerate" id="x1-8010x3">Compute the Element-Wise &#x0028;EW&#x0029; minimum of
     <!--l. 228--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>P</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></math>
     and <!--l. 228--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>E</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></math>: <table class="equation"><tr><td>
     <a 
 id="x1-8011r7"></a>
     <!--l. 229--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                               <mrow ><mo 
class="MathClass-open">&#x007B;</mo><mrow><mi 
>T</mi><mo 
class="MathClass-punc">,</mo><mi 
>M</mi></mrow><mo 
class="MathClass-close">&#x007D;</mo></mrow> <mo 
class="MathClass-rel">=</mo> <mstyle 
class="text"><mtext  >EW-min</mtext></mstyle><mrow ><mo 
class="MathClass-open">&#x0028;</mo><mrow><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>P</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow><mo 
class="MathClass-punc">,</mo><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>E</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></mrow><mo 
class="MathClass-close">&#x0029;</mo></mrow>
</math></td><td class="eq-no">&#x0028;7&#x0029;</td></tr></table>
     <!--l. 233--><p class="noindent" >where </p><table class="equation"><tr><td> <a 
 id="x1-8012r8"></a>
     <!--l. 234--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                                 <msub><mrow 
><mi 
>T</mi></mrow><mrow 
><mi 
>i</mi><mo 
class="MathClass-punc">,</mo><mi 
>j</mi></mrow></msub 
> <mo 
class="MathClass-rel">=</mo> <mstyle 
class="text"><mtext  >min</mtext></mstyle><mrow ><mo 
class="MathClass-open">&#x0028;</mo><mrow><msub><mrow 
><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>P</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></mrow><mrow 
><mi 
>i</mi><mo 
class="MathClass-punc">,</mo><mi 
>j</mi></mrow></msub 
><mo 
class="MathClass-punc">,</mo><msub><mrow 
><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>E</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></mrow><mrow 
><mi 
>i</mi><mo 
class="MathClass-punc">,</mo><mi 
>j</mi></mrow></msub 
></mrow><mo 
class="MathClass-close">&#x0029;</mo></mrow>
</math></td><td class="eq-no">&#x0028;8&#x0029;</td></tr></table>
     <!--l. 237--><p class="noindent" >and <!--l. 237--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>M</mi></math>
     is a binary matrix de&#xFB01;ned by </p><table class="equation"><tr><td> <a 
 id="x1-8013r9"></a>
                                                                  

                                                                  
     <!--l. 238--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation"><msub><mrow 
>
<mi 
>M</mi></mrow><mrow 
><mi 
>i</mi><mo 
class="MathClass-punc">,</mo><mi 
>j</mi></mrow></msub 
> <mo 
class="MathClass-rel">=</mo> <mfenced separators="" 
open="{"  close="" ><mrow> <mtable  align="axis" style=""  
equalrows="false" columnlines="none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="left">  <mn>0</mn> </mtd><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >if</mtext></mstyle><msub><mrow 
><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>P</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></mrow><mrow 
><mi 
>i</mi><mo 
class="MathClass-punc">,</mo><mi 
>j</mi></mrow></msub 
> <mo 
class="MathClass-rel">&#x003C;</mo> <msub><mrow 
><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>E</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></mrow><mrow 
><mi 
>i</mi><mo 
class="MathClass-punc">,</mo><mi 
>j</mi></mrow></msub 
>  </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left">  <mn>1</mn> </mtd><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >otherwise</mtext></mstyle><mo 
class="MathClass-punc">.</mo>           </mtd></mtr><!--ll--></mtable>                                                           </mrow></mfenced>
</math></td><td class="eq-no">&#x0028;9&#x0029;</td></tr></table>
     </li>
     <li 
  class="enumerate" id="x1-8015x4">Output <table class="equation"><tr><td> <a 
 id="x1-8016r10"></a>
     <!--l. 248--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation"><msub><mrow 
>
<mi 
>O</mi></mrow><mrow 
><mi 
>i</mi><mo 
class="MathClass-punc">,</mo><mi 
>j</mi></mrow></msub 
> <mo 
class="MathClass-rel">=</mo> <mfenced separators="" 
open="{"  close="" ><mrow> <mtable  align="axis" style=""  
equalrows="false" columnlines="none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="left">  <msub><mrow 
><mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>P</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></mrow><mrow 
><mi 
>i</mi><mo 
class="MathClass-punc">,</mo><mi 
>j</mi></mrow></msub 
>  </mtd><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >if</mtext></mstyle><msub><mrow 
><mi 
>M</mi></mrow><mrow 
><mi 
>i</mi><mo 
class="MathClass-punc">,</mo><mi 
>j</mi></mrow></msub 
> <mo 
class="MathClass-rel">=</mo> <mn>0</mn><mrow ><mo 
class="MathClass-open">&#x0028;</mo><mrow><mstyle 
class="text"><mtext  >intra&#x00A0;pixel</mtext></mstyle></mrow><mo 
class="MathClass-close">&#x0029;</mo></mrow>       </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left">  <mrow ><mo 
class="MathClass-open">&#x005B;</mo><mrow><mi 
>E</mi><mo 
class="MathClass-punc">.</mo><mi 
>L</mi><msub><mrow 
></mrow><mo 
class="MathClass-close">&#x005D;</mo></mrow></mrow><mrow 
><mi 
>i</mi><mo 
class="MathClass-punc">,</mo><mi 
>j</mi></mrow></msub 
>  </mtd><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >otherwise</mtext></mstyle><mrow ><mo 
class="MathClass-open">&#x0028;</mo><mrow><mstyle 
class="text"><mtext  >predicted-pixel</mtext></mstyle></mrow><mo 
class="MathClass-close">&#x0029;</mo></mrow><mo 
class="MathClass-punc">.</mo> </mtd></mtr><!--ll--></mtable>                                           </mrow></mfenced>
</math></td><td class="eq-no">&#x0028;10&#x0029;</td></tr></table>
     <!--l. 258--><p class="noindent" >Notice that it must hold that </p><table class="equation"><tr><td> <a 
 id="x1-8017r11"></a>
     <!--l. 259--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                                            <msubsup><mrow 
><mi 
>&#x03C3;</mi></mrow><mrow 
><mi 
>O</mi></mrow><mrow 
><mn>2</mn></mrow></msubsup 
> <mo 
class="MathClass-rel">&#x2264;</mo> <msubsup><mrow 
><mi 
>&#x03C3;</mi></mrow><mrow 
>
<mi 
>E</mi></mrow><mrow 
><mn>2</mn></mrow></msubsup 
><mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">&#x0028;11&#x0029;</td></tr></table>
     <!--l. 263--><p class="noindent" >where <!--l. 263--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msup><mrow 
><mi 
>&#x03C3;</mi></mrow><mrow 
><mn>2</mn></mrow></msup 
></math>
     denotes the variance. Eq.&#x00A0;<a 
href="#x1-8017r11">11<!--tex4ht:ref: eq:vars --></a> implies that </p><table class="equation"><tr><td> <a 
 id="x1-8018r12"></a>
                                                                  

                                                                  
     <!--l. 264--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation"><msub><mrow 
>
                                           <mstyle 
class="text"><mtext  >CR</mtext></mstyle></mrow><mrow 
><mi 
>O</mi></mrow></msub 
> <mo 
class="MathClass-rel">&#x2265;</mo><msub><mrow 
><mstyle 
class="text"><mtext  >CR</mtext></mstyle></mrow><mrow 
><mi 
>E</mi></mrow></msub 
>
</math></td><td class="eq-no">&#x0028;12&#x0029;</td></tr></table>
     <!--l. 268--><p class="noindent" >should hold, where CR stands for Compression Ratio.
</p>
     </li></ol>
<!--l. 272--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">2   </span> <a 
 id="x1-90002"></a>What you have to do?</h3>
<!--l. 274--><p class="noindent" >Please, implement Eq.&#x00A0;<a 
href="#x1-8016r10">10<!--tex4ht:ref: eq:output --></a>, preferiblely in a Jupyter notebook. Use the moving circle
generator &#x0028;see this <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/10-MC_in_DWT_domain/DWT_shift_variance.ipynb" >notebook</a>&#x0029; to create the video. Verify also Eq.&#x00A0;<a 
href="#x1-8018r12">12<!--tex4ht:ref: eq:crs --></a>.
</p><!--l. 279--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">3   </span> <a 
 id="x1-100003"></a>Timming</h3>
<!--l. 281--><p class="noindent" >In groups, you will present the results for this milestone during the examination
time.
</p><!--l. 284--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">4   </span> <a 
 id="x1-110004"></a>Deliverables</h3>
<!--l. 286--><p class="noindent" >None.
</p><!--l. 288--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">5   </span> <a 
 id="x1-120005"></a>Resources</h3>
   <div class="thebibliography">
   <p class="bibitem" ><span class="biblabel">
 &#x005B;1&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xandreopoulos2005complete"></a>Y.&#x00A0;Andreopoulos,  A.&#x00A0;Munteanu,  Van  der  A.G.,  J.P.H.  Cornelis,  and
   P.&#x00A0;Schelkens.    <a 
href="https://d1wqtxts1xzle7.cloudfront.net/40910653/Complete-to-Overcomplete_DWT_-_IEEE_TSP_2005.pdf" >Complete-to-Overcomplete  Discrete  Wavelet  Transforms:
   Theory  and  Applications</a>.     <span 
class="ecti-1000">IEEE  Transactions  on  Signal  Processing</span>,
   53&#x0028;4&#x0029;:1398&#x2013;1412, 2005.
                                                                  

                                                                  
   </p>
   <p class="bibitem" ><span class="biblabel">
 &#x005B;2&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xbradley2003shift"></a>A.P.  Bradley.    <a 
href="https://eprints.qut.edu.au/114753/1/Bradley_DICTA03.pdf" >Shift-invariance  in  the  Discrete  Wavelet  Transform</a>.
   <span 
class="ecti-1000">Proceedings of VIIth Digital Image Computing: Techniques and Applications.</span>
   <span 
class="ecti-1000">Sydney</span>, 2003.
   </p>
   <p class="bibitem" ><span class="biblabel">
 &#x005B;3&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xburt1987laplacian"></a>P.J. Burt and E.H. Adelson. <a 
href="https://www.seas.upenn.edu/~cse399b/LaplacianPyramid.pdf" >The Laplacian Pyramid as a Compact Image
   Code</a>.  <span 
class="ecti-1000">IEEE Transactions on Communications</span>, COM-31&#x0028;4&#x0029;:532&#x2013;540, April
   1983.
   </p>
   <p class="bibitem" ><span class="biblabel">
 &#x005B;4&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xli2001all"></a>X.&#x00A0;Li,  L.&#x00A0;Kerofsky,  and  S.&#x00A0;Lei.     <a 
href="https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.79.7108&rep=rep1&type=pdf" >All-phase  motion  compensated
   prediction in the wavelet domain for high performance video coding</a>.   In
   <span 
class="ecti-1000">Proceedings 2001 International Conference on Image Processing &#x0028;Cat. No.</span>
   <span 
class="ecti-1000">01CH37205&#x0029;</span>, volume&#x00A0;3, pages 538&#x2013;541. IEEE, 2001.
   </p>
   <p class="bibitem" ><span class="biblabel">
 &#x005B;5&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xmallat1999wavelet"></a>S.&#x00A0;Mallat and G.&#x00A0;Peyr&#x00E9;.  <a 
href="http://links.uwaterloo.ca/amath391w13docs/Mallat3.pdf" ><span 
class="ecti-1000">A Wavelet Tour of Signal Processing: The</span>
   <span 
class="ecti-1000">Sparse Way</span></a>. Elsevier, 2009.
   </p>
   <p class="bibitem" ><span class="biblabel">
 &#x005B;6&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xpark2000motion"></a>H.-W. Park and H.-S. Kim.  <a 
href="https://pdfs.semanticscholar.org/48c6/4583590528e1af327f6a31e56123d4abc4e6.pdf?_ga=2.85498713.1311541910.1610981476-741442228.1604850032" >Motion Estimation Using Low-Band-Shift
   Method for Wavelet-Based Moving-Picture Coding</a>.  <span 
class="ecti-1000">IEEE Transactions on</span>
   <span 
class="ecti-1000">Image processing</span>, 9&#x0028;4&#x0029;:577&#x2013;587, 2000.
   </p>
   <p class="bibitem" ><span class="biblabel">
 &#x005B;7&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xsullivan2012overview"></a>G.J. Sullivan, J.&#x00A0;Ohm, Woo-Jin Han, and T.&#x00A0;Wiegand. <a 
href="https://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=6316136" >Overview of the
   High E&#xFB03;ciency Video Coding &#x0028;HEVC&#x0029; standard</a>.  <span 
class="ecti-1000">Circuits and Systems for</span>
   <span 
class="ecti-1000">Video Technology, IEEE Transactions on</span>, 22&#x0028;12&#x0029;:1649&#x2013;1668, Dec 2012.
</p>
   </div>
<a 
 id="Q1-1-13"></a>
    
</body></html> 

                                                                  


